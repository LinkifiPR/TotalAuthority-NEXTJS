{"version":3,"sources":["../../../../lib/siteConfig.ts","../../../../components/blog/WYSIWYGEditor.tsx","../../../../components/blog/FeaturedImageUpload.tsx","../../../../components/blog/ReusableBlocksManager.tsx","../../../../components/blog/BlogPostEditor.tsx","../../../../app/admin/posts/%5Bid%5D/page.tsx","../../../../components/blog/editor/hooks/useTextEditor.ts","../../../../components/blog/editor/utils/imageUtils.ts","../../../../components/blog/editor/components/BlogPostTabs.tsx","../../../../components/blog/editor/BlogPostForm.tsx","../../../../components/blog/editor/BlogPostHeader.tsx","../../../../components/blog/editor/ImageEditor.tsx","../../../../components/blog/editor/components/ImageButtons.tsx","../../../../components/blog/editor/EditorStyles.tsx","../../../../components/blog/editor/hooks/useImageEditor.ts","../../../../components/blog/editor/BlogPostSettings.tsx","../../../../components/blog/editor/EditorContentStyles.tsx","../../../../components/blog/editor/hooks/useLinkEditor.ts","../../../../components/blog/editor/hooks/useBlogPostEditor.ts","../../../../components/blog/editor/BlogPostTags.tsx","../../../../components/blog/editor/EditorPreview.tsx","../../../../components/blog/editor/components/EditorDialogs.tsx","../../../../components/blog/editor/useEditorLogic.ts","../../../../components/blog/editor/EditorContent.tsx","../../../../components/blog/editor/EditorToolbar.tsx","../../../../node_modules/lucide-react/src/icons/image.ts","../../../../node_modules/lucide-react/src/icons/link.ts","../../../../node_modules/lucide-react/src/icons/italic.ts","../../../../node_modules/lucide-react/src/icons/heading-2.ts","../../../../node_modules/lucide-react/src/icons/heading-3.ts","../../../../node_modules/lucide-react/src/icons/quote.ts","../../../../node_modules/lucide-react/src/icons/list.ts","../../../../node_modules/lucide-react/src/icons/list-ordered.ts","../../../../node_modules/lucide-react/src/icons/bold.ts","../../../../node_modules/lucide-react/src/icons/save.ts","../../../../node_modules/lucide-react/src/icons/heading-1.ts","../../../../components/blog/editor/components/ListButtons.tsx","../../../../components/blog/editor/components/HeadingButtons.tsx","../../../../components/blog/editor/components/TextFormattingButtons.tsx","../../../../components/blog/editor/hooks/useYouTubeManager.ts","../../../../components/blog/editor/hooks/useWYSIWYGEditor.ts","../../../../components/blog/editor/CTABlockManager.tsx","../../../../components/blog/editor/components/BlogPostSidebar.tsx","../../../../components/blog/editor/YouTubeEmbedEditor.tsx","../../../../components/blog/editor/components/EditorTabs.tsx","../../../../components/blog/editor/components/LinkDialog.tsx","../../../../components/blog/editor/BlogPostSEOForm.tsx"],"sourcesContent":["/**\n * Site configuration for URLs and SEO metadata\n * Uses environment variable for deployment flexibility\n * \n * IMPORTANT: NEXT_PUBLIC_SITE_URL should NOT include a trailing slash\n * Good: https://totalauthority.com\n * Bad:  https://totalauthority.com/\n */\n\n// Get site URL from environment, fallback to production domain\n// Strip any trailing slash to prevent double slashes in URLs\nconst rawSiteUrl = process.env.NEXT_PUBLIC_SITE_URL || 'https://totalauthority.com';\nexport const siteUrl = rawSiteUrl.endsWith('/') ? rawSiteUrl.slice(0, -1) : rawSiteUrl;\n\n/**\n * Build an absolute URL from a relative path\n * @param path - The path to convert (with or without leading slash)\n * @returns Full absolute URL\n */\nexport function buildAbsoluteUrl(path: string): string {\n  // Ensure path starts with /\n  const normalizedPath = path.startsWith('/') ? path : `/${path}`;\n  return `${siteUrl}${normalizedPath}`;\n}\n\n/**\n * Get the site name\n */\nexport const siteName = 'TotalAuthority';\n\n/**\n * Get the site description\n */\nexport const siteDescription = 'Get a comprehensive AI visibility audit to boost your online presence and outrank competitors with data-driven insights.';\n","\"use client\";\n\n\nimport React from 'react';\nimport { Label } from '@/components/ui/label';\nimport { EditorStyles } from './editor/EditorStyles';\nimport { CTABlockManager } from './editor/CTABlockManager';\nimport { EditorContentStyles } from './editor/EditorContentStyles';\nimport { useWYSIWYGEditor } from './editor/hooks/useWYSIWYGEditor';\nimport { EditorTabs } from './editor/components/EditorTabs';\nimport { EditorDialogs } from './editor/components/EditorDialogs';\n\ninterface WYSIWYGEditorProps {\n  content: string;\n  onChange: (content: string) => void;\n}\n\nexport const WYSIWYGEditor: React.FC<WYSIWYGEditorProps> = ({\n  content,\n  onChange\n}) => {\n  const {\n    activeTab,\n    setActiveTab,\n    editorLogic,\n    youtubeManager,\n    handleImageUploadClick,\n    handleImageInsert,\n    handleEditorInput,\n    handlePaste,\n    htmlContent,\n    handleHtmlChange\n  } = useWYSIWYGEditor({ content, onChange });\n\n  return (\n    <div className=\"space-y-4\">\n      <Label>Content</Label>\n      \n      <EditorTabs\n        activeTab={activeTab}\n        setActiveTab={setActiveTab}\n        content={content}\n        editorLogic={editorLogic}\n        youtubeManager={youtubeManager}\n        handleImageUploadClick={handleImageUploadClick}\n        handleImageInsert={handleImageInsert}\n        handleEditorInput={handleEditorInput}\n        handlePaste={handlePaste}\n        htmlContent={htmlContent}\n        handleHtmlChange={handleHtmlChange}\n      />\n      \n      <EditorStyles />\n      <CTABlockManager content={content} onChange={onChange} />\n\n      <EditorDialogs\n        youtubeManager={youtubeManager}\n      />\n\n      <input\n        ref={editorLogic.fileInputRef}\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={editorLogic.handleImageUpload}\n        className=\"hidden\"\n      />\n      \n      <EditorContentStyles />\n    </div>\n  );\n};\n","\"use client\";\n\n\nimport React, { useState, useRef } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { supabase } from '@/lib/integrations/supabase/client';\nimport { useToast } from '@/hooks/use-toast';\nimport { Upload, X, Image as ImageIcon } from 'lucide-react';\n\ninterface FeaturedImageUploadProps {\n  imageUrl?: string;\n  imageAlt?: string;\n  onImageChange: (url: string, alt: string) => void;\n  onImageRemove: () => void;\n}\n\nexport const FeaturedImageUpload: React.FC<FeaturedImageUploadProps> = ({\n  imageUrl,\n  imageAlt,\n  onImageChange,\n  onImageRemove\n}) => {\n  const [uploading, setUploading] = useState(false);\n  const [altText, setAltText] = useState(imageAlt || '');\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const { toast } = useToast();\n\n  const handleImageUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    console.log('Starting featured image upload...', file.name, file.size);\n    setUploading(true);\n    \n    try {\n      // Get current session\n      const { data: { session }, error: sessionError } = await supabase.auth.getSession();\n      \n      if (sessionError) {\n        console.error('Session error:', sessionError);\n        throw new Error('Authentication session error');\n      }\n\n      if (!session || !session.user) {\n        console.error('No active session or user');\n        throw new Error('You must be logged in to upload images. Please refresh the page and try again.');\n      }\n\n      console.log('User authenticated:', session.user.id);\n\n      const fileExt = file.name.split('.').pop();\n      const fileName = `featured-${Date.now()}-${Math.random().toString(36).substring(2)}.${fileExt}`;\n      const filePath = `featured-images/${fileName}`;\n\n      console.log('Uploading to path:', filePath);\n\n      const { data: uploadData, error: uploadError } = await supabase.storage\n        .from('blog-media')\n        .upload(filePath, file, {\n          cacheControl: '3600',\n          upsert: false\n        });\n\n      if (uploadError) {\n        console.error('Upload error:', uploadError);\n        throw uploadError;\n      }\n\n      console.log('Upload successful:', uploadData);\n\n      const { data: urlData } = supabase.storage\n        .from('blog-media')\n        .getPublicUrl(filePath);\n\n      console.log('Public URL:', urlData.publicUrl);\n\n      const finalAltText = altText || file.name.split('.')[0];\n      onImageChange(urlData.publicUrl, finalAltText);\n\n      toast({\n        title: \"Success\",\n        description: \"Featured image uploaded successfully\",\n      });\n    } catch (error: any) {\n      console.error('Error uploading featured image:', error);\n      toast({\n        title: \"Upload Error\", \n        description: error.message || \"Failed to upload featured image. Please try again.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setUploading(false);\n      // Clear the file input\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n    }\n  };\n\n  const handleAltTextChange = (newAltText: string) => {\n    setAltText(newAltText);\n    if (imageUrl) {\n      onImageChange(imageUrl, newAltText);\n    }\n  };\n\n  return (\n    <Card className=\"border border-gray-200 shadow-sm\">\n      <CardContent className=\"p-4\">\n        <div className=\"space-y-4\">\n          <Label className=\"text-sm font-medium text-gray-900\">Featured Image</Label>\n          \n          {imageUrl ? (\n            <div className=\"space-y-3\">\n              <div className=\"relative\">\n                <img\n                  src={imageUrl}\n                  alt={altText}\n                  className=\"w-full h-48 object-cover rounded-lg border\"\n                />\n                <Button\n                  variant=\"destructive\"\n                  size=\"sm\"\n                  onClick={onImageRemove}\n                  className=\"absolute top-2 right-2 h-8 w-8 p-0\"\n                >\n                  <X className=\"w-4 h-4\" />\n                </Button>\n              </div>\n              \n              <div>\n                <Label htmlFor=\"altText\" className=\"text-sm font-medium text-gray-700\">Alt Text</Label>\n                <Input\n                  id=\"altText\"\n                  value={altText}\n                  onChange={(e) => handleAltTextChange(e.target.value)}\n                  placeholder=\"Describe the image for accessibility\"\n                  className=\"mt-1\"\n                />\n              </div>\n            </div>\n          ) : (\n            <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center bg-gray-50 hover:bg-gray-100 transition-colors\">\n              <ImageIcon className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n              <div className=\"space-y-3\">\n                <Button\n                  onClick={() => fileInputRef.current?.click()}\n                  disabled={uploading}\n                  className=\"w-full bg-orange-500 hover:bg-orange-600\"\n                >\n                  <Upload className=\"w-4 h-4 mr-2\" />\n                  {uploading ? 'Uploading...' : 'Upload Featured Image'}\n                </Button>\n                <p className=\"text-xs text-gray-500 leading-tight\">\n                  Recommended size: 1200x630px for optimal social sharing\n                </p>\n              </div>\n            </div>\n          )}\n\n          <input\n            ref={fileInputRef}\n            type=\"file\"\n            accept=\"image/*\"\n            onChange={handleImageUpload}\n            className=\"hidden\"\n          />\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n","\"use client\";\n\n\nimport React from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { useToast } from '@/hooks/use-toast';\nimport { DeliverySection } from '@/components/DeliverySection';\nimport { Clock, Zap, CheckCircle, Sparkles } from 'lucide-react';\n\ninterface ReusableBlocksManagerProps {\n  onInsertBlock: (content: string) => void;\n  onOpenForm?: () => void;\n}\n\nexport const ReusableBlocksManager: React.FC<ReusableBlocksManagerProps> = ({\n  onInsertBlock,\n  onOpenForm\n}) => {\n  const { toast } = useToast();\n\n  const generateBlockId = () => {\n    return `cta-block-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n  };\n\n  const ctaBlocks = [\n    {\n      name: 'Free LLM Visibility Audit CTA',\n      description: 'Sleek CTA with animated particles',\n      preview: (\n        <div className=\"scale-75 origin-top-left transform w-full h-24 overflow-hidden bg-gradient-to-br from-slate-800 to-slate-900 rounded-xl relative\">\n          {/* Floating particles */}\n          <div className=\"absolute inset-0 overflow-hidden\">\n            <div className=\"absolute top-1/4 left-1/4 w-0.5 h-0.5 bg-orange-400 rounded-full animate-bounce opacity-60\"></div>\n            <div className=\"absolute top-1/3 right-1/3 w-0.5 h-0.5 bg-blue-400 rounded-full animate-bounce opacity-60\"></div>\n            <div className=\"absolute bottom-1/3 left-1/3 w-0.5 h-0.5 bg-purple-400 rounded-full animate-bounce opacity-60\"></div>\n            <div className=\"absolute bottom-1/4 right-1/4 w-0.5 h-0.5 bg-orange-300 rounded-full animate-bounce opacity-60\"></div>\n          </div>\n          \n          <div className=\"relative z-10 p-3 text-center\">\n            <div className=\"mb-1\">\n              <span className=\"text-orange-200 font-semibold text-xs\">Get Your Free LLM Visibility Audit</span>\n            </div>\n            \n            <button \n              onClick={onOpenForm}\n              className=\"bg-gradient-to-r from-orange-500 to-orange-600 text-white px-3 py-1 text-xs font-bold rounded-lg shadow-lg\"\n            >\n              Start Free Audit →\n            </button>\n            \n            <div className=\"mt-1 text-slate-400 text-xs\">24-hour delivery</div>\n          </div>\n        </div>\n      ),\n      getContent: (blockId: string) => `<div class=\"relative bg-gradient-to-br from-slate-800/95 to-slate-900/95 backdrop-blur-xl rounded-2xl p-8 border border-orange-400/30 shadow-xl overflow-hidden my-6 max-w-2xl mx-auto cta-block\" data-block-type=\"floating-particles\" data-block-id=\"${blockId}\">\n        <!-- Remove button -->\n        <button class=\"cta-remove-btn absolute top-3 right-3 z-20 w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center shadow-lg transition-all duration-200 text-sm font-bold leading-none\" data-block-id=\"${blockId}\" title=\"Remove this block\" type=\"button\">\n          ×\n        </button>\n        \n        <!-- Floating particles -->\n        <div class=\"absolute inset-0 overflow-hidden\">\n          <div class=\"absolute top-1/4 left-1/4 w-1 h-1 bg-orange-400 rounded-full animate-bounce opacity-60\"></div>\n          <div class=\"absolute top-1/3 right-1/3 w-1 h-1 bg-blue-400 rounded-full animate-bounce opacity-60\"></div>\n          <div class=\"absolute bottom-1/3 left-1/3 w-1 h-1 bg-purple-400 rounded-full animate-bounce opacity-60\"></div>\n          <div class=\"absolute bottom-1/4 right-1/4 w-1 h-1 bg-orange-300 rounded-full animate-bounce opacity-60\"></div>\n        </div>\n        \n         <div class=\"relative z-10 text-center\">\n           <div class=\"mb-4\">\n             <h3 class=\"text-white font-black text-sm sm:text-xl mb-2 drop-shadow-lg leading-tight\" style=\"color: white !important;\">Get Your Free LLM Visibility Audit</h3>\n             <p class=\"text-white/90 text-xs sm:text-sm font-semibold drop-shadow leading-tight\" style=\"color: rgba(255, 255, 255, 0.9) !important;\">Discover how visible your brand is across AI platforms</p>\n           </div>\n          \n          <button onclick=\"window.parent.postMessage({type: 'OPEN_FORM'}, '*')\" class=\"relative inline-block bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-8 py-3 text-lg font-bold rounded-xl shadow-xl transition-all duration-300 transform hover:scale-105 border border-orange-400/50 cursor-pointer border-none mb-4\">\n            Start Free Audit →\n          </button>\n          \n          <div class=\"flex items-center justify-center gap-4 text-white/80 text-sm font-medium\" style=\"color: rgba(255, 255, 255, 0.8) !important;\">\n            <div class=\"flex items-center gap-1\">\n              <div class=\"w-2 h-2 bg-orange-400 rounded-full animate-pulse\"></div>\n              <span>24-hour delivery</span>\n            </div>\n            <div class=\"flex items-center gap-1\">\n              <div class=\"w-2 h-2 bg-blue-400 rounded-full animate-pulse\"></div>\n              <span>No sales call</span>\n            </div>\n          </div>\n        </div>\n      </div>`\n    }\n  ];\n\n  const insertBlock = (getContent: (blockId: string) => string) => {\n    // Prevent double insertions by checking if button is disabled\n    const button = document.activeElement as HTMLButtonElement;\n    if (button && button.disabled) return;\n    \n    // Temporarily disable the button to prevent double clicks\n    if (button) {\n      button.disabled = true;\n      setTimeout(() => {\n        button.disabled = false;\n      }, 1000);\n    }\n    \n    const blockId = generateBlockId();\n    const content = getContent(blockId);\n    onInsertBlock(content);\n    \n    toast({\n      title: \"Success\",\n      description: \"CTA block inserted into content\",\n    });\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <h3 className=\"text-lg font-semibold text-gray-900\">Homepage CTAs</h3>\n      <div className=\"space-y-4\">\n        {ctaBlocks.map((block, index) => (\n          <Card key={index} className=\"border border-gray-200 hover:shadow-md transition-shadow\">\n            <CardHeader className=\"pb-3\">\n              <div className=\"flex items-start justify-between\">\n                <div className=\"flex-1\">\n                  <CardTitle className=\"text-sm font-semibold text-gray-900\">{block.name}</CardTitle>\n                  <p className=\"text-xs text-gray-500 mt-1\">{block.description}</p>\n                </div>\n                <Button\n                  size=\"sm\"\n                  onClick={() => insertBlock(block.getContent)}\n                  className=\"ml-3 bg-orange-500 hover:bg-orange-600\"\n                  type=\"button\"\n                >\n                  Insert\n                </Button>\n              </div>\n            </CardHeader>\n            <CardContent className=\"pt-0\">\n              <div className=\"text-xs text-gray-600 mb-2\">Preview:</div>\n              <div className=\"border rounded-lg overflow-hidden bg-gray-50\">\n                {block.preview}\n              </div>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    </div>\n  );\n};\n","\"use client\";\n\n\nimport React from 'react';\nimport { BlogPostHeader } from './editor/BlogPostHeader';\nimport { BlogPostTabs } from './editor/components/BlogPostTabs';\nimport { BlogPostSidebar } from './editor/components/BlogPostSidebar';\nimport { useBlogPostEditor } from './editor/hooks/useBlogPostEditor';\n\ninterface BlogPost {\n  id?: string;\n  title: string;\n  slug: string;\n  content: string;\n  excerpt: string;\n  status: 'draft' | 'published';\n  published_at?: string;\n  meta_title: string;\n  meta_description: string;\n  og_image_url: string;\n  og_image_alt: string;\n  featured_image_url: string;\n  featured_image_alt: string;\n  canonical_url: string;\n  is_indexed: boolean;\n  tags: string[];\n  reading_time?: number;\n  author_id?: string;\n  author_name?: string;\n}\n\ninterface BlogPostEditorProps {\n  post?: BlogPost;\n  onSave: (post: BlogPost) => void;\n  onCancel: () => void;\n}\n\nexport const BlogPostEditor: React.FC<BlogPostEditorProps> = ({ post, onSave, onCancel }) => {\n  const {\n    formData,\n    saving,\n    handleInputChange,\n    handleTagsChange,\n    handleFeaturedImageChange,\n    handleFeaturedImageRemove,\n    handlePreview,\n    handleSave\n  } = useBlogPostEditor({ post, onSave });\n\n  const insertBlockIntoContent = (blockContent: string) => {\n    const newContent = formData.content + '\\n\\n' + blockContent;\n    handleInputChange('content', newContent);\n  };\n\n  return (\n    <div className=\"max-w-7xl mx-auto space-y-6\">\n      <BlogPostHeader\n        isEditing={!!post}\n        saving={saving}\n        onPreview={handlePreview}\n        onSaveDraft={() => handleSave('draft')}\n        onPublish={() => handleSave('published')}\n        onCancel={onCancel}\n      />\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\n        <div className=\"lg:col-span-3\">\n          <BlogPostTabs\n            formData={formData}\n            onInputChange={handleInputChange}\n            onTagsChange={handleTagsChange}\n          />\n        </div>\n\n        <BlogPostSidebar\n          featuredImageUrl={formData.featured_image_url}\n          featuredImageAlt={formData.featured_image_alt}\n          onFeaturedImageChange={handleFeaturedImageChange}\n          onFeaturedImageRemove={handleFeaturedImageRemove}\n          onInsertBlock={insertBlockIntoContent}\n        />\n      </div>\n    </div>\n  );\n};\n","\"use client\";\n\n\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport { supabase } from '@/lib/integrations/supabase/client';\nimport { AdminSidebar } from '@/components/admin/AdminSidebar';\nimport { AdminHeader } from '@/components/admin/AdminHeader';\nimport { SidebarProvider, SidebarInset } from '@/components/ui/sidebar';\nimport { BlogPostEditor } from '@/components/blog/BlogPostEditor';\nimport { useToast } from '@/hooks/use-toast';\nimport { useAuth } from '@/hooks/useAuth';\nimport { BarChart3 } from 'lucide-react';\n\nconst AdminPostEditor = () => {\n  const params = useParams();\n  const id = params?.id as string;\n  const router = useRouter();\n  const [post, setPost] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n  const { toast } = useToast();\n  const { user, loading: authLoading } = useAuth();\n\n  // Redirect to auth if not authenticated\n  useEffect(() => {\n    if (!authLoading && !user) {\n      router.push('/auth');\n    }\n  }, [user, authLoading, router]);\n\n  useEffect(() => {\n    if (id && id !== 'new') {\n      fetchPost();\n    } else {\n      setLoading(false);\n    }\n  }, [id]);\n\n  const fetchPost = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('blog_posts')\n        .select('*')\n        .eq('id', id)\n        .single();\n\n      if (error) throw error;\n      setPost(data);\n    } catch (error: any) {\n      console.error('Error fetching post:', error);\n      toast({\n        title: \"Error\",\n        description: \"Failed to load blog post\",\n        variant: \"destructive\",\n      });\n      router.push('/admin/posts');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSave = () => {\n    toast({\n      title: \"Success\",\n      description: \"Blog post saved successfully\",\n    });\n    router.push('/admin/posts');\n  };\n\n  const handleCancel = () => {\n    router.push('/admin/posts');\n  };\n\n  if (authLoading || loading) {\n    return (\n      <SidebarProvider>\n        <AdminSidebar />\n        <SidebarInset>\n          <AdminHeader />\n          <div className=\"flex-1 p-8 pt-6\">\n            <div className=\"text-center py-8\">Loading...</div>\n          </div>\n        </SidebarInset>\n      </SidebarProvider>\n    );\n  }\n\n  // Don't render if not authenticated (will redirect)\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <SidebarProvider>\n      <AdminSidebar />\n      <SidebarInset>\n        <AdminHeader />\n        <div className=\"flex-1 p-8 pt-6\">\n          <BlogPostEditor\n            post={post}\n            onSave={handleSave}\n            onCancel={handleCancel}\n          />\n        </div>\n      </SidebarInset>\n    </SidebarProvider>\n  );\n};\n\nexport default AdminPostEditor;\n","\nexport const useTextEditor = () => {\n  const formatText = (command: string, onChange: () => void) => {\n    document.execCommand(command, false);\n    onChange();\n  };\n\n  const insertHeading = (level: number, editorRef: React.RefObject<HTMLDivElement>, onChange: () => void) => {\n    if (editorRef.current) {\n      editorRef.current.focus();\n      document.execCommand('formatBlock', false, `h${level}`);\n      onChange();\n    }\n  };\n\n  const insertList = (ordered: boolean, editorRef: React.RefObject<HTMLDivElement>, onChange: () => void) => {\n    if (editorRef.current) {\n      editorRef.current.focus();\n      const command = ordered ? 'insertOrderedList' : 'insertUnorderedList';\n      document.execCommand(command, false);\n      onChange();\n    }\n  };\n\n  const insertQuote = (editorRef: React.RefObject<HTMLDivElement>, onChange: () => void) => {\n    if (editorRef.current) {\n      editorRef.current.focus();\n      const quoteHtml = '<blockquote style=\"border-left: 4px solid hsl(22 90% 52%); padding-left: 1rem; margin: 1rem 0; font-style: italic; color: #6b7280;\">Your quote here</blockquote>';\n      document.execCommand('insertHTML', false, quoteHtml);\n      onChange();\n    }\n  };\n\n  return {\n    formatText,\n    insertHeading,\n    insertList,\n    insertQuote\n  };\n};\n","\nexport const addRemoveButtonsToImages = (editorRef: React.RefObject<HTMLDivElement>, onChange: () => void) => {\n  console.log('addRemoveButtonsToImages called, editor exists:', !!editorRef.current);\n  \n  if (!editorRef.current) return;\n  \n  // Look for images in image-container divs first, then fallback to standalone images\n  const imageContainers = editorRef.current.querySelectorAll('.image-container');\n  const standaloneImages = editorRef.current.querySelectorAll('img[data-image-id]:not([data-has-remove-btn])');\n  const allImages = editorRef.current.querySelectorAll('img');\n  \n  console.log('Found image containers:', imageContainers.length);\n  console.log('Found standalone images:', standaloneImages.length);\n  console.log('Found all images:', allImages.length);\n  console.log('Editor innerHTML length:', editorRef.current.innerHTML.length);\n  console.log('Editor innerHTML preview:', editorRef.current.innerHTML.substring(editorRef.current.innerHTML.length - 500));\n  \n  // Handle images in containers\n  imageContainers.forEach((container) => {\n    const img = container.querySelector('img[data-image-id]') as HTMLImageElement;\n    if (!img || img.getAttribute('data-has-remove-btn')) return;\n    \n    img.setAttribute('data-has-remove-btn', 'true');\n    \n    // Check if buttons already exist\n    if (container.querySelector('.editor-edit-btn')) return;\n    \n    // Remove button\n    const removeBtn = document.createElement('button');\n    removeBtn.innerHTML = '×';\n    removeBtn.className = 'editor-remove-btn';\n    removeBtn.style.cssText = 'position: absolute; top: 8px; right: 8px; width: 24px; height: 24px; background: #ef4444; border: none; border-radius: 50%; cursor: pointer; font-size: 16px; line-height: 1; display: flex; align-items: center; justify-content: center; font-weight: bold; z-index: 1000; opacity: 0; transition: opacity 0.2s; color: white;';\n    removeBtn.title = 'Remove image';\n    removeBtn.type = 'button';\n    removeBtn.addEventListener('click', (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      container.remove();\n      onChange();\n    });\n    \n    // Edit button\n    const editBtn = document.createElement('button');\n    editBtn.innerHTML = '✏️';\n    editBtn.className = 'editor-edit-btn';\n    editBtn.style.cssText = 'position: absolute; top: 8px; right: 36px; width: 24px; height: 24px; background: #3b82f6; border: none; border-radius: 50%; cursor: pointer; font-size: 12px; line-height: 1; display: flex; align-items: center; justify-content: center; font-weight: bold; z-index: 1000; opacity: 0; transition: opacity 0.2s; color: white;';\n    editBtn.title = 'Edit image';\n    editBtn.type = 'button';\n    editBtn.addEventListener('click', (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      const imageData = img.getAttribute('data-image-data');\n      if (imageData && editorRef.current) {\n        try {\n          const parsedData = JSON.parse(imageData);\n          console.log('Triggering edit event with data:', parsedData);\n          const editEvent = new CustomEvent('editImage', { \n            detail: { ...parsedData, sourceContainer: container },\n            bubbles: true \n          });\n          editorRef.current.dispatchEvent(editEvent);\n        } catch (error) {\n          console.error('Error parsing image data:', error);\n        }\n      }\n    });\n    \n    container.appendChild(removeBtn);\n    container.appendChild(editBtn);\n    \n    // Show/hide buttons on hover\n    container.addEventListener('mouseenter', () => {\n      removeBtn.style.opacity = '1';\n      editBtn.style.opacity = '1';\n    });\n    container.addEventListener('mouseleave', () => {\n      removeBtn.style.opacity = '0';\n      editBtn.style.opacity = '0';\n    });\n    \n    console.log('Added buttons to image container');\n  });\n  \n  // Handle standalone images (legacy) - only if they're not already in containers\n  standaloneImages.forEach((img) => {\n    const imageElement = img as HTMLImageElement;\n    \n    // Skip if this image is already in an image-container\n    if (imageElement.closest('.image-container')) {\n      console.log('Skipping standalone image processing - already in container');\n      return;\n    }\n    \n    imageElement.setAttribute('data-has-remove-btn', 'true');\n    \n    if (!imageElement.parentElement?.classList.contains('editor-image-container')) {\n      const container = document.createElement('div');\n      container.className = 'editor-image-container';\n      container.style.cssText = 'position: relative; display: inline-block; margin: 16px 0;';\n      \n      imageElement.parentNode?.insertBefore(container, imageElement);\n      container.appendChild(imageElement);\n      \n      // Remove button\n      const removeBtn = document.createElement('button');\n      removeBtn.innerHTML = '×';\n      removeBtn.className = 'editor-remove-btn';\n      removeBtn.style.cssText = 'position: absolute; top: 8px; right: 8px; width: 24px; height: 24px; background: #ef4444; border: none; border-radius: 50%; cursor: pointer; font-size: 16px; line-height: 1; display: flex; align-items: center; justify-content: center; font-weight: bold; z-index: 1000; color: white;';\n      removeBtn.title = 'Remove image';\n      removeBtn.type = 'button';\n      removeBtn.addEventListener('click', (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        container.remove();\n        onChange();\n      });\n      \n      // Edit button\n      const editBtn = document.createElement('button');\n      editBtn.innerHTML = '✏️';\n      editBtn.className = 'editor-edit-btn';\n      editBtn.style.cssText = 'position: absolute; top: 8px; right: 36px; width: 24px; height: 24px; background: #3b82f6; border: none; border-radius: 50%; cursor: pointer; font-size: 12px; line-height: 1; display: flex; align-items: center; justify-content: center; font-weight: bold; z-index: 1000; color: white;';\n      editBtn.title = 'Edit image';\n      editBtn.type = 'button';\n      editBtn.addEventListener('click', (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const imageData = imageElement.getAttribute('data-image-data');\n        if (imageData && editorRef.current) {\n          try {\n            const parsedData = JSON.parse(imageData);\n            console.log('Triggering edit event with data:', parsedData);\n            const editEvent = new CustomEvent('editImage', { \n              detail: { ...parsedData, sourceContainer: container },\n              bubbles: true \n            });\n            editorRef.current.dispatchEvent(editEvent);\n          } catch (error) {\n            console.error('Error parsing image data:', error);\n          }\n        }\n      });\n      \n      container.appendChild(removeBtn);\n      container.appendChild(editBtn);\n      console.log('Added buttons to standalone image container');\n    }\n  });\n};\n","\nimport React from 'react';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { BlogPostForm } from '../BlogPostForm';\nimport { BlogPostSEOForm } from '../BlogPostSEOForm';\nimport { BlogPostSettings } from '../BlogPostSettings';\nimport { BlogPostTags } from '../BlogPostTags';\nimport { WYSIWYGEditor } from '../../WYSIWYGEditor';\n\ninterface BlogPost {\n  id?: string;\n  title: string;\n  slug: string;\n  content: string;\n  excerpt: string;\n  status: 'draft' | 'published';\n  published_at?: string;\n  meta_title: string;\n  meta_description: string;\n  og_image_url: string;\n  og_image_alt: string;\n  featured_image_url: string;\n  featured_image_alt: string;\n  canonical_url: string;\n  is_indexed: boolean;\n  tags: string[];\n  reading_time?: number;\n  author_id?: string;\n  author_name?: string;\n}\n\ninterface BlogPostTabsProps {\n  formData: BlogPost;\n  onInputChange: (field: keyof BlogPost, value: any) => void;\n  onTagsChange: (tags: string[]) => void;\n}\n\nexport const BlogPostTabs: React.FC<BlogPostTabsProps> = ({\n  formData,\n  onInputChange,\n  onTagsChange\n}) => {\n  return (\n    <Tabs defaultValue=\"content\" className=\"space-y-6\">\n      <TabsList>\n        <TabsTrigger value=\"content\">Content</TabsTrigger>\n        <TabsTrigger value=\"seo\">SEO & Meta</TabsTrigger>\n        <TabsTrigger value=\"settings\">Settings</TabsTrigger>\n      </TabsList>\n\n      <TabsContent value=\"content\">\n        <Card>\n          <CardHeader>\n            <CardTitle>Post Content</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-6\">\n            <BlogPostForm\n              formData={formData}\n              onInputChange={onInputChange}\n            />\n\n            <div>\n              <WYSIWYGEditor\n                content={formData.content}\n                onChange={(content) => onInputChange('content', content)}\n              />\n            </div>\n\n            <BlogPostTags\n              tags={formData.tags}\n              onTagsChange={onTagsChange}\n            />\n          </CardContent>\n        </Card>\n      </TabsContent>\n\n      <TabsContent value=\"seo\">\n        <Card>\n          <CardHeader>\n            <CardTitle>SEO & Meta Tags</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <BlogPostSEOForm\n              formData={formData}\n              onInputChange={onInputChange}\n            />\n          </CardContent>\n        </Card>\n      </TabsContent>\n\n      <TabsContent value=\"settings\">\n        <Card>\n          <CardHeader>\n            <CardTitle>Post Settings</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <BlogPostSettings\n              formData={formData}\n              onInputChange={onInputChange}\n            />\n          </CardContent>\n        </Card>\n      </TabsContent>\n    </Tabs>\n  );\n};\n","\nimport React from 'react';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { siteUrl } from '@/lib/siteConfig';\n\ninterface BlogPost {\n  id?: string;\n  title: string;\n  slug: string;\n  content: string;\n  excerpt: string;\n  status: 'draft' | 'published';\n  published_at?: string;\n  meta_title: string;\n  meta_description: string;\n  og_image_url: string;\n  og_image_alt: string;\n  featured_image_url: string;\n  featured_image_alt: string;\n  canonical_url: string;\n  is_indexed: boolean;\n  tags: string[];\n  reading_time?: number;\n  author_id?: string;\n  author_name?: string;\n}\n\ninterface BlogPostFormProps {\n  formData: BlogPost;\n  onInputChange: (field: keyof BlogPost, value: any) => void;\n}\n\nexport const BlogPostForm: React.FC<BlogPostFormProps> = ({\n  formData,\n  onInputChange\n}) => {\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <Label htmlFor=\"title\">Title</Label>\n        <Input\n          id=\"title\"\n          value={formData.title}\n          onChange={(e) => onInputChange('title', e.target.value)}\n          placeholder=\"Enter post title\"\n          className=\"text-lg font-semibold\"\n        />\n      </div>\n\n      <div>\n        <Label htmlFor=\"slug\">URL Slug</Label>\n        <Input\n          id=\"slug\"\n          value={formData.slug}\n          onChange={(e) => onInputChange('slug', e.target.value)}\n          placeholder=\"url-slug\"\n        />\n        <p className=\"text-sm text-gray-500 mt-1\">\n          {siteUrl}/blog/{formData.slug}\n        </p>\n      </div>\n\n      <div>\n        <Label htmlFor=\"excerpt\">Excerpt</Label>\n        <Textarea\n          id=\"excerpt\"\n          value={formData.excerpt}\n          onChange={(e) => onInputChange('excerpt', e.target.value)}\n          placeholder=\"Brief description of the post for listings and SEO\"\n          rows={3}\n        />\n      </div>\n\n      <div>\n        <Label htmlFor=\"author_name\">Author Name</Label>\n        <Input\n          id=\"author_name\"\n          value={formData.author_name || ''}\n          onChange={(e) => onInputChange('author_name', e.target.value)}\n          placeholder=\"Author name (e.g., TotalAuthority Team)\"\n        />\n      </div>\n    </div>\n  );\n};\n","\nimport React from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Save, Eye, ExternalLink } from 'lucide-react';\n\ninterface BlogPostHeaderProps {\n  isEditing: boolean;\n  saving: boolean;\n  onPreview: () => void;\n  onSaveDraft: () => void;\n  onPublish: () => void;\n  onCancel: () => void;\n}\n\nexport const BlogPostHeader: React.FC<BlogPostHeaderProps> = ({\n  isEditing,\n  saving,\n  onPreview,\n  onSaveDraft,\n  onPublish,\n  onCancel\n}) => {\n  return (\n    <div className=\"flex items-center justify-between\">\n      <h1 className=\"text-2xl font-bold\">\n        {isEditing ? 'Edit Post' : 'New Post'}\n      </h1>\n      <div className=\"flex items-center space-x-2\">\n        <Button\n          variant=\"outline\"\n          onClick={onPreview}\n          className=\"flex items-center gap-2\"\n        >\n          <ExternalLink className=\"w-4 h-4\" />\n          Preview\n        </Button>\n        <Button\n          variant=\"outline\"\n          onClick={onSaveDraft}\n          disabled={saving}\n        >\n          <Save className=\"w-4 h-4 mr-2\" />\n          Save Draft\n        </Button>\n        <Button\n          onClick={onPublish}\n          disabled={saving}\n        >\n          <Eye className=\"w-4 h-4 mr-2\" />\n          Publish\n        </Button>\n        <Button variant=\"outline\" onClick={onCancel}>\n          Cancel\n        </Button>\n      </div>\n    </div>\n  );\n};\n","\nimport React, { useState, useEffect } from 'react';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Switch } from '@/components/ui/switch';\n\ninterface ImageEditorProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onInsert: (imageData: ImageData) => void;\n  initialData?: Partial<ImageData>;\n}\n\nexport interface ImageData {\n  url: string;\n  alt: string;\n  title?: string;\n  width?: string;\n  height?: string;\n  alignment: 'left' | 'center' | 'right';\n  linkUrl?: string;\n  linkNewTab: boolean;\n  linkNofollow: boolean;\n  linkSponsored: boolean;\n}\n\nexport const ImageEditor: React.FC<ImageEditorProps> = ({\n  isOpen,\n  onClose,\n  onInsert,\n  initialData\n}) => {\n  const [imageData, setImageData] = useState<ImageData>({\n    url: '',\n    alt: '',\n    title: '',\n    width: '',\n    height: '',\n    alignment: 'center',\n    linkUrl: '',\n    linkNewTab: false,\n    linkNofollow: false,\n    linkSponsored: false\n  });\n\n  // Update form when initialData changes\n  useEffect(() => {\n    if (initialData) {\n      setImageData({\n        url: initialData.url || '',\n        alt: initialData.alt || '',\n        title: initialData.title || '',\n        width: initialData.width || '',\n        height: initialData.height || '',\n        alignment: initialData.alignment || 'center',\n        linkUrl: initialData.linkUrl || '',\n        linkNewTab: initialData.linkNewTab || false,\n        linkNofollow: initialData.linkNofollow || false,\n        linkSponsored: initialData.linkSponsored || false\n      });\n    }\n  }, [initialData]);\n\n  const handleInsert = () => {\n    if (!imageData.url || !imageData.alt) return;\n    onInsert(imageData);\n    handleClose();\n  };\n\n  const handleClose = () => {\n    onClose();\n    // Reset form\n    setImageData({\n      url: '',\n      alt: '',\n      title: '',\n      width: '',\n      height: '',\n      alignment: 'center',\n      linkUrl: '',\n      linkNewTab: false,\n      linkNofollow: false,\n      linkSponsored: false\n    });\n  };\n\n  const isUploadedImage = initialData?.url && initialData.url.includes('supabase');\n\n  return (\n    <Dialog open={isOpen} onOpenChange={handleClose}>\n      <DialogContent className=\"max-w-2xl max-h-[80vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle>\n            {isUploadedImage ? 'Edit Image' : 'Insert/Edit Image'}\n          </DialogTitle>\n        </DialogHeader>\n        <div className=\"space-y-6\">\n          {/* Image URL - only show if not an uploaded image */}\n          {!isUploadedImage && (\n            <div>\n              <Label htmlFor=\"imageUrl\">Image URL *</Label>\n              <Input\n                id=\"imageUrl\"\n                value={imageData.url}\n                onChange={(e) => setImageData({ ...imageData, url: e.target.value })}\n                placeholder=\"https://example.com/image.jpg\"\n              />\n            </div>\n          )}\n\n          {/* Show uploaded image info */}\n          {isUploadedImage && imageData.url && (\n            <div className=\"p-4 bg-gray-50 rounded-lg\">\n              <Label className=\"text-sm font-medium mb-2 block\">Uploaded Image</Label>\n              <img\n                src={imageData.url}\n                alt={imageData.alt || 'Uploaded image'}\n                className=\"max-w-full max-h-32 object-contain border rounded\"\n              />\n            </div>\n          )}\n\n          {/* Alt Text */}\n          <div>\n            <Label htmlFor=\"altText\">Alt Text (SEO & Accessibility) *</Label>\n            <Textarea\n              id=\"altText\"\n              value={imageData.alt}\n              onChange={(e) => setImageData({ ...imageData, alt: e.target.value })}\n              placeholder=\"Describe the image for accessibility and SEO\"\n              rows={2}\n            />\n          </div>\n\n          {/* Title */}\n          <div>\n            <Label htmlFor=\"titleText\">Title (Tooltip on hover)</Label>\n            <Input\n              id=\"titleText\"\n              value={imageData.title}\n              onChange={(e) => setImageData({ ...imageData, title: e.target.value })}\n              placeholder=\"Optional tooltip text\"\n            />\n          </div>\n\n          {/* Size Options */}\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <Label htmlFor=\"width\">Width</Label>\n              <Input\n                id=\"width\"\n                value={imageData.width}\n                onChange={(e) => setImageData({ ...imageData, width: e.target.value })}\n                placeholder=\"e.g., 300px, 50%, auto\"\n              />\n            </div>\n            <div>\n              <Label htmlFor=\"height\">Height</Label>\n              <Input\n                id=\"height\"\n                value={imageData.height}\n                onChange={(e) => setImageData({ ...imageData, height: e.target.value })}\n                placeholder=\"e.g., 200px, auto\"\n              />\n            </div>\n          </div>\n\n          {/* Alignment */}\n          <div>\n            <Label htmlFor=\"alignment\">Alignment</Label>\n            <Select value={imageData.alignment} onValueChange={(value: 'left' | 'center' | 'right') => setImageData({ ...imageData, alignment: value })}>\n              <SelectTrigger>\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"left\">Left</SelectItem>\n                <SelectItem value=\"center\">Center</SelectItem>\n                <SelectItem value=\"right\">Right</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Link Options */}\n          <div className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"linkUrl\">Link URL (Make image clickable)</Label>\n              <Input\n                id=\"linkUrl\"\n                value={imageData.linkUrl}\n                onChange={(e) => setImageData({ ...imageData, linkUrl: e.target.value })}\n                placeholder=\"https://example.com (optional)\"\n              />\n            </div>\n\n            {imageData.linkUrl && (\n              <div className=\"space-y-3 p-4 bg-gray-50 rounded-lg\">\n                <h4 className=\"font-medium text-sm\">Link Options</h4>\n                \n                <div className=\"flex items-center justify-between\">\n                  <Label htmlFor=\"linkNewTab\" className=\"text-sm font-medium\">\n                    Open in new tab\n                  </Label>\n                  <Switch\n                    id=\"linkNewTab\"\n                    checked={imageData.linkNewTab}\n                    onCheckedChange={(checked) => setImageData({ ...imageData, linkNewTab: checked })}\n                  />\n                </div>\n                \n                <div className=\"flex items-center justify-between\">\n                  <Label htmlFor=\"linkNofollow\" className=\"text-sm font-medium\">\n                    Add nofollow\n                  </Label>\n                  <Switch\n                    id=\"linkNofollow\"\n                    checked={imageData.linkNofollow}\n                    onCheckedChange={(checked) => setImageData({ ...imageData, linkNofollow: checked })}\n                  />\n                </div>\n                \n                <div className=\"flex items-center justify-between\">\n                  <Label htmlFor=\"linkSponsored\" className=\"text-sm font-medium\">\n                    Mark as sponsored\n                  </Label>\n                  <Switch\n                    id=\"linkSponsored\"\n                    checked={imageData.linkSponsored}\n                    onCheckedChange={(checked) => setImageData({ ...imageData, linkSponsored: checked })}\n                  />\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Preview */}\n          {imageData.url && (\n            <div className=\"p-4 bg-gray-50 rounded-lg\">\n              <Label className=\"text-sm font-medium mb-2 block\">Preview</Label>\n              <div className={`flex ${imageData.alignment === 'left' ? 'justify-start' : imageData.alignment === 'right' ? 'justify-end' : 'justify-center'}`}>\n                <img\n                  src={imageData.url}\n                  alt={imageData.alt}\n                  title={imageData.title}\n                  style={{\n                    width: imageData.width || 'auto',\n                    height: imageData.height || 'auto',\n                    maxWidth: '300px',\n                    maxHeight: '200px'\n                  }}\n                  className=\"border rounded\"\n                />\n              </div>\n            </div>\n          )}\n\n          <Button onClick={handleInsert} className=\"w-full\" disabled={!imageData.url || !imageData.alt}>\n            {isUploadedImage ? 'Update Image' : 'Insert Image'}\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n};\n","import React from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Upload } from 'lucide-react';\n\ninterface ImageButtonsProps {\n  onImageUpload: () => void;\n  uploading: boolean;\n}\n\nexport const ImageButtons: React.FC<ImageButtonsProps> = ({\n  onImageUpload,\n  uploading\n}) => {\n  return (\n    <Button\n      variant=\"outline\"\n      size=\"sm\"\n      onClick={onImageUpload}\n      disabled={uploading}\n      className=\"flex items-center gap-2 bg-white hover:bg-gray-100\"\n      type=\"button\"\n    >\n      <Upload className=\"w-4 h-4\" />\n      <span className=\"hidden sm:inline\">\n        {uploading ? 'Uploading...' : 'Insert Image'}\n      </span>\n    </Button>\n  );\n};","import React from 'react';\n\nexport const EditorStyles: React.FC = () => {\n  return (\n    <style dangerouslySetInnerHTML={{\n      __html: `\n        [contenteditable] ul {\n          list-style-type: disc !important;\n          margin-left: 1.5rem !important;\n          padding-left: 1rem !important;\n          margin-top: 0.5rem !important;\n          margin-bottom: 0.5rem !important;\n        }\n        \n        [contenteditable] ol {\n          list-style-type: decimal !important;\n          margin-left: 1.5rem !important;\n          padding-left: 1rem !important;\n          margin-top: 0.5rem !important;\n          margin-bottom: 0.5rem !important;\n        }\n        \n        [contenteditable] li {\n          margin-bottom: 0.25rem !important;\n          display: list-item !important;\n          list-style-position: outside !important;\n        }\n        \n        [contenteditable] ul ul,\n        [contenteditable] ol ol {\n          margin-left: 1rem !important;\n        }\n        \n        [contenteditable] a {\n          color: hsl(22 90% 52%) !important;\n          font-weight: 600 !important;\n          text-decoration: underline !important;\n        }\n        \n        [contenteditable] a:hover {\n          color: hsl(22 90% 45%) !important;\n        }\n        \n        [contenteditable] h1 {\n          font-size: 2.25rem !important;\n          font-weight: bold !important;\n          margin-bottom: 1rem !important;\n          line-height: 1.2 !important;\n        }\n        \n        [contenteditable] h2 {\n          font-size: 1.875rem !important;\n          font-weight: bold !important;\n          margin-bottom: 0.75rem !important;\n          line-height: 1.3 !important;\n        }\n        \n        [contenteditable] h3 {\n          font-size: 1.5rem !important;\n          font-weight: bold !important;\n          margin-bottom: 0.5rem !important;\n          line-height: 1.4 !important;\n        }\n      `\n    }} />\n  );\n};","\nimport { useState, useRef } from 'react';\nimport { supabase } from '@/lib/integrations/supabase/client';\nimport { useToast } from '@/hooks/use-toast';\nimport { ImageData } from '../ImageEditor';\n\nexport const useImageEditor = () => {\n  const [uploading, setUploading] = useState(false);\n  const [showImageDialog, setShowImageDialog] = useState(false);\n  const [showImageEditor, setShowImageEditor] = useState(false);\n  const [imageUrl, setImageUrl] = useState('');\n  const [imageAlt, setImageAlt] = useState('');\n  const [imageToEdit, setImageToEdit] = useState<ImageData | null>(null);\n  const [editingImageElement, setEditingImageElement] = useState<Element | null>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const savedRange = useRef<Range | null>(null);\n  const { toast } = useToast();\n\n  // Save current cursor position before opening dialog\n  const saveSelection = () => {\n    const selection = window.getSelection();\n    if (selection && selection.rangeCount > 0) {\n      savedRange.current = selection.getRangeAt(0).cloneRange();\n      console.log('Cursor position saved');\n    }\n  };\n\n  // Restore cursor position before inserting\n  const restoreSelection = () => {\n    if (savedRange.current) {\n      const selection = window.getSelection();\n      if (selection) {\n        selection.removeAllRanges();\n        selection.addRange(savedRange.current);\n        console.log('Cursor position restored');\n        return true;\n      }\n    }\n    return false;\n  };\n\n  const handleImageUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    setUploading(true);\n    try {\n      const { data: { user }, error: userError } = await supabase.auth.getUser();\n      \n      if (userError || !user) {\n        throw new Error('You must be logged in to upload images');\n      }\n\n      const fileExt = file.name.split('.').pop();\n      const fileName = `${Date.now()}-${Math.random().toString(36).substring(2)}.${fileExt}`;\n      const filePath = `blog-images/${fileName}`;\n\n      const { error: uploadError } = await supabase.storage\n        .from('blog-media')\n        .upload(filePath, file);\n\n      if (uploadError) throw uploadError;\n\n      const { data } = supabase.storage\n        .from('blog-media')\n        .getPublicUrl(filePath);\n\n      // Open the image editor with the uploaded URL and auto-generated alt text\n      setImageUrl(data.publicUrl);\n      setImageAlt(file.name.split('.')[0].replace(/[-_]/g, ' '));\n      setImageToEdit(null); // Clear any existing edit data\n      setEditingImageElement(null);\n      setShowImageEditor(true);\n\n      toast({\n        title: \"Success\",\n        description: \"Image uploaded successfully. Configure your image settings.\",\n      });\n    } catch (error: any) {\n      console.error('Error uploading image:', error);\n      toast({\n        title: \"Error\",\n        description: \"Failed to upload image\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setUploading(false);\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n    }\n  };\n\n  const insertImage = (imageData: ImageData, editorRef: React.RefObject<HTMLDivElement>, onChange: () => void, addRemoveButtonsToImages: () => void) => {\n    console.log('insertImage called with:', { imageData, editorRef: !!editorRef.current, isEditing: !!editingImageElement });\n    \n    if (!imageData.url || !editorRef.current) {\n      console.error('Missing required data for image insertion:', { url: imageData.url, editor: !!editorRef.current });\n      return;\n    }\n\n    // Focus the editor to ensure it's active\n    editorRef.current.focus();\n\n    // Build image styles\n    const styles = [\n      'border-radius: 8px',\n      'max-width: 100%',\n      'height: auto',\n      'display: block'\n    ];\n\n    if (imageData.width) styles.push(`width: ${imageData.width}`);\n    if (imageData.height) styles.push(`height: ${imageData.height}`);\n    \n    // Add alignment styles\n    const alignmentStyles = {\n      left: 'margin-right: auto; margin-left: 0',\n      center: 'margin-left: auto; margin-right: auto',\n      right: 'margin-left: auto; margin-right: 0'\n    };\n    styles.push(alignmentStyles[imageData.alignment]);\n\n    // Create a unique data attribute for editing\n    const imageId = `img-${Date.now()}-${Math.random().toString(36).substring(2)}`;\n    \n    // Create image element using DOM API\n    const img = document.createElement('img');\n    img.src = imageData.url;\n    img.alt = imageData.alt;\n    if (imageData.title) img.title = imageData.title;\n    img.style.cssText = styles.join('; ');\n    img.setAttribute('data-image-id', imageId);\n    img.setAttribute('data-image-data', JSON.stringify(imageData));\n    \n    // Wrap in link if specified\n    let imageElement: HTMLElement = img;\n    if (imageData.linkUrl) {\n      const link = document.createElement('a');\n      link.href = imageData.linkUrl;\n      \n      const relParts = [];\n      if (imageData.linkNofollow) relParts.push('nofollow');\n      if (imageData.linkSponsored) relParts.push('sponsored');\n      if (relParts.length > 0) link.rel = relParts.join(' ');\n      if (imageData.linkNewTab) link.target = '_blank';\n      \n      link.appendChild(img);\n      imageElement = link;\n    }\n\n    // Create container div\n    const container = document.createElement('div');\n    container.className = 'image-container';\n    container.style.cssText = 'margin: 16px 0; display: block; position: relative;';\n    container.appendChild(imageElement);\n\n    try {\n      if (editingImageElement) {\n        // Replace existing image\n        console.log('Replacing existing image');\n        editingImageElement.replaceWith(container);\n        setEditingImageElement(null);\n      } else {\n        // Insert new image at cursor position\n        const selection = window.getSelection();\n        let insertionSuccessful = false;\n\n        // Try to restore saved cursor position first\n        if (restoreSelection()) {\n          const range = selection?.getRangeAt(0);\n          if (range) {\n            console.log('Inserting at restored cursor position');\n            range.deleteContents();\n            range.insertNode(container);\n            \n            // Move cursor after the inserted image\n            range.setStartAfter(container);\n            range.collapse(true);\n            selection?.removeAllRanges();\n            selection?.addRange(range);\n            insertionSuccessful = true;\n          }\n        }\n\n        // Fallback: if no saved position or restoration failed\n        if (!insertionSuccessful) {\n          if (selection && selection.rangeCount > 0) {\n            console.log('Inserting at current cursor position');\n            const range = selection.getRangeAt(0);\n            range.deleteContents();\n            range.insertNode(container);\n            \n            // Move cursor after the inserted image\n            range.setStartAfter(container);\n            range.collapse(true);\n            selection.removeAllRanges();\n            selection.addRange(range);\n          } else {\n            console.log('No cursor position, appending to end');\n            editorRef.current.appendChild(container);\n          }\n        }\n      }\n      \n      console.log('Image inserted using DOM selection');\n      \n    } catch (error) {\n      console.error('Error inserting image:', error);\n      // Final fallback\n      editorRef.current.appendChild(container);\n    }\n    \n    // Clear saved range after use\n    savedRange.current = null;\n    \n    // Trigger onChange to sync with React state\n    onChange();\n    \n    // Add management buttons after a delay\n    setTimeout(() => addRemoveButtonsToImages(), 200);\n\n    // Clear form\n    setImageUrl('');\n    setImageAlt('');\n    setImageToEdit(null);\n    setShowImageEditor(false);\n    \n    console.log('Image insertion completed');\n  };\n\n  const insertImageUrl = () => {\n    if (!imageUrl) return;\n    setImageToEdit(null); // Clear any existing edit data\n    setEditingImageElement(null);\n    setShowImageEditor(true);\n  };\n\n  const startImageEdit = (imageData: ImageData, imageElement: Element) => {\n    console.log('Starting image edit with data:', imageData);\n    setImageToEdit(imageData);\n    setEditingImageElement(imageElement);\n    setImageUrl(imageData.url);\n    setImageAlt(imageData.alt);\n    setShowImageEditor(true);\n  };\n\n  return {\n    uploading,\n    showImageDialog,\n    setShowImageDialog,\n    showImageEditor,\n    setShowImageEditor,\n    imageUrl,\n    setImageUrl,\n    imageAlt,\n    setImageAlt,\n    imageToEdit,\n    fileInputRef,\n    handleImageUpload,\n    insertImageUrl,\n    insertImage,\n    saveSelection,\n    startImageEdit\n  };\n};\n","\nimport React from 'react';\nimport { Label } from '@/components/ui/label';\nimport { Switch } from '@/components/ui/switch';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\n\ninterface BlogPost {\n  id?: string;\n  title: string;\n  slug: string;\n  content: string;\n  excerpt: string;\n  status: 'draft' | 'published';\n  published_at?: string;\n  meta_title: string;\n  meta_description: string;\n  og_image_url: string;\n  og_image_alt: string;\n  featured_image_url: string;\n  featured_image_alt: string;\n  canonical_url: string;\n  is_indexed: boolean;\n  tags: string[];\n  reading_time?: number;\n  author_id?: string;\n}\n\ninterface BlogPostSettingsProps {\n  formData: BlogPost;\n  onInputChange: (field: keyof BlogPost, value: any) => void;\n}\n\nexport const BlogPostSettings: React.FC<BlogPostSettingsProps> = ({\n  formData,\n  onInputChange\n}) => {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <Label>Search Engine Indexing</Label>\n          <p className=\"text-sm text-gray-500\">Allow search engines to index this page</p>\n        </div>\n        <Switch\n          checked={formData.is_indexed}\n          onCheckedChange={(checked) => onInputChange('is_indexed', checked)}\n        />\n      </div>\n\n      {formData.reading_time && (\n        <div>\n          <Label>Reading Time</Label>\n          <p className=\"text-sm text-gray-500\">{formData.reading_time} minutes (auto-calculated)</p>\n        </div>\n      )}\n\n      <div>\n        <Label>Status</Label>\n        <Select\n          value={formData.status}\n          onValueChange={(value) => onInputChange('status', value)}\n        >\n          <SelectTrigger>\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"draft\">Draft</SelectItem>\n            <SelectItem value=\"published\">Published</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n    </div>\n  );\n};\n","\nimport React from 'react';\n\nexport const EditorContentStyles: React.FC = () => {\n  return (\n    <style dangerouslySetInnerHTML={{\n      __html: `\n        .youtube-embed {\n          margin: 16px 0;\n          position: relative;\n        }\n        \n        .youtube-caption {\n          margin-top: 8px;\n          text-align: center;\n          font-size: 14px;\n          color: #6b7280;\n          font-style: italic;\n        }\n        \n        .image-container {\n          margin: 16px 0;\n          display: block;\n          position: relative;\n        }\n        \n        .image-container img {\n          max-width: 100%;\n          height: auto;\n          border-radius: 8px;\n        }\n      `\n    }} />\n  );\n};\n","\nimport { useState } from 'react';\n\nexport const useLinkEditor = () => {\n  const [linkUrl, setLinkUrl] = useState('');\n  const [linkText, setLinkText] = useState('');\n  const [linkNofollow, setLinkNofollow] = useState(false);\n  const [linkSponsored, setLinkSponsored] = useState(false);\n  const [linkNewTab, setLinkNewTab] = useState(false);\n  const [showLinkDialog, setShowLinkDialog] = useState(false);\n  const [selectedRange, setSelectedRange] = useState<Range | null>(null);\n\n  const resetLinkForm = () => {\n    setLinkUrl('');\n    setLinkText('');\n    setLinkNofollow(false);\n    setLinkSponsored(false);\n    setLinkNewTab(false);\n    setSelectedRange(null);\n    setShowLinkDialog(false);\n  };\n\n  const handleLinkClick = () => {\n    const selection = window.getSelection();\n    if (selection && selection.rangeCount > 0) {\n      const range = selection.getRangeAt(0).cloneRange();\n      setSelectedRange(range);\n      \n      const selectedText = selection.toString().trim();\n      if (selectedText) {\n        setLinkText(selectedText);\n      } else {\n        setLinkText('');\n      }\n    } else {\n      setSelectedRange(null);\n      setLinkText('');\n    }\n    \n    setLinkUrl('');\n    setLinkNofollow(false);\n    setLinkSponsored(false);\n    setLinkNewTab(false);\n    setShowLinkDialog(true);\n  };\n\n  const insertLink = (editorRef: React.RefObject<HTMLDivElement>, onChange: () => void) => {\n    if (!linkUrl) return;\n    \n    if (selectedRange && editorRef.current) {\n      editorRef.current.focus();\n      \n      const selection = window.getSelection();\n      if (selection) {\n        selection.removeAllRanges();\n        selection.addRange(selectedRange);\n        \n        const selectedText = selection.toString().trim();\n        const displayText = selectedText || linkText || linkUrl;\n        \n        // Build rel attribute\n        const relParts = [];\n        if (linkNofollow) relParts.push('nofollow');\n        if (linkSponsored) relParts.push('sponsored');\n        const relAttr = relParts.length > 0 ? ` rel=\"${relParts.join(' ')}\"` : '';\n        \n        // Build target attribute\n        const targetAttr = linkNewTab ? ' target=\"_blank\"' : '';\n        \n        const linkHtml = `<a href=\"${linkUrl}\"${relAttr}${targetAttr} style=\"color: hsl(22 90% 52%); font-weight: 600; text-decoration: underline;\">${displayText}</a>`;\n        \n        if (selectedText) {\n          selectedRange.deleteContents();\n          const tempDiv = document.createElement('div');\n          tempDiv.innerHTML = linkHtml;\n          const linkNode = tempDiv.firstChild;\n          if (linkNode) {\n            selectedRange.insertNode(linkNode);\n          }\n        } else {\n          const tempDiv = document.createElement('div');\n          tempDiv.innerHTML = linkHtml + '&nbsp;';\n          const linkNode = tempDiv.firstChild;\n          if (linkNode) {\n            selectedRange.insertNode(linkNode);\n          }\n        }\n        \n        selection.removeAllRanges();\n        onChange();\n      }\n    }\n    \n    resetLinkForm();\n  };\n\n  return {\n    linkUrl,\n    setLinkUrl,\n    linkText,\n    setLinkText,\n    linkNofollow,\n    setLinkNofollow,\n    linkSponsored,\n    setLinkSponsored,\n    linkNewTab,\n    setLinkNewTab,\n    showLinkDialog,\n    setShowLinkDialog,\n    handleLinkClick,\n    insertLink\n  };\n};\n","\nimport { useState, useEffect } from 'react';\nimport { supabase } from '@/lib/integrations/supabase/client';\nimport { useToast } from '@/hooks/use-toast';\nimport { useAuth } from '@/hooks/useAuth';\n\ninterface BlogPost {\n  id?: string;\n  title: string;\n  slug: string;\n  content: string;\n  excerpt: string;\n  status: 'draft' | 'published';\n  published_at?: string;\n  meta_title: string;\n  meta_description: string;\n  og_image_url: string;\n  og_image_alt: string;\n  featured_image_url: string;\n  featured_image_alt: string;\n  canonical_url: string;\n  is_indexed: boolean;\n  tags: string[];\n  reading_time?: number;\n  author_id?: string;\n  author_name?: string;\n}\n\ninterface UseBlogPostEditorProps {\n  post?: BlogPost;\n  onSave: (post: BlogPost) => void;\n}\n\nexport const useBlogPostEditor = ({ post, onSave }: UseBlogPostEditorProps) => {\n  const [formData, setFormData] = useState<BlogPost>({\n    title: '',\n    slug: '',\n    content: '',\n    excerpt: '',\n    status: 'draft',\n    meta_title: '',\n    meta_description: '',\n    og_image_url: '',\n    og_image_alt: '',\n    featured_image_url: '',\n    featured_image_alt: '',\n    canonical_url: '',\n    is_indexed: true,\n    tags: [],\n    author_name: 'TotalAuthority Team',\n    ...post\n  });\n  \n  const [saving, setSaving] = useState(false);\n  const { user, loading: authLoading } = useAuth();\n  const { toast } = useToast();\n\n  // Auto-generate slug from title\n  useEffect(() => {\n    if (formData.title && !post) {\n      const slug = formData.title\n        .toLowerCase()\n        .replace(/[^a-z0-9]+/g, '-')\n        .replace(/(^-|-$)/g, '');\n      setFormData(prev => ({ ...prev, slug }));\n    }\n  }, [formData.title, post]);\n\n  // Calculate reading time  \n  useEffect(() => {\n    if (formData.content) {\n      const wordsPerMinute = 200;\n      const wordCount = formData.content.replace(/<[^>]*>/g, '').split(/\\s+/).length;\n      const readingTime = Math.ceil(wordCount / wordsPerMinute);\n      setFormData(prev => ({ ...prev, reading_time: readingTime }));\n    }\n  }, [formData.content]);\n\n  const handleInputChange = (field: keyof BlogPost, value: any) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n  };\n\n  const handleTagsChange = (tags: string[]) => {\n    setFormData(prev => ({ ...prev, tags }));\n  };\n\n  const handleFeaturedImageChange = (url: string, alt: string) => {\n    setFormData(prev => ({\n      ...prev,\n      featured_image_url: url,\n      featured_image_alt: alt\n    }));\n  };\n\n  const handleFeaturedImageRemove = () => {\n    setFormData(prev => ({\n      ...prev,\n      featured_image_url: '',\n      featured_image_alt: ''\n    }));\n  };\n\n  const handlePreview = () => {\n    if (formData.slug) {\n      const previewUrl = `/preview/${formData.slug}`;\n      window.open(previewUrl, '_blank');\n    } else {\n      toast({\n        title: \"Preview Not Available\",\n        description: \"Please enter a title/slug first to preview the post.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const handleSave = async (status: 'draft' | 'published') => {\n    setSaving(true);\n    try {\n      console.log('Starting save process...');\n      console.log('Current user:', user?.id);\n      console.log('Auth loading state:', authLoading);\n      \n      if (authLoading) {\n        console.log('Auth still loading, waiting...');\n        toast({\n          title: \"Loading\",\n          description: \"Please wait while we verify your authentication...\",\n        });\n        setSaving(false);\n        return;\n      }\n\n      if (!user) {\n        console.error('No authenticated user found');\n        toast({\n          title: \"Authentication Required\", \n          description: \"You must be logged in to save posts. Please sign in and try again.\",\n          variant: \"destructive\",\n        });\n        setSaving(false);\n        return;\n      }\n\n      const postData = {\n        ...formData,\n        status,\n        author_id: user.id,\n        published_at: status === 'published' ? new Date().toISOString() : formData.published_at\n      };\n\n      console.log('About to save post data:', postData);\n\n      if (post?.id) {\n        console.log('Updating existing post with ID:', post.id);\n        const { error } = await supabase\n          .from('blog_posts')\n          .update(postData)\n          .eq('id', post.id);\n\n        if (error) {\n          console.error('Update error:', error);\n          throw error;\n        }\n      } else {\n        console.log('Creating new post...');\n        const { data, error } = await supabase\n          .from('blog_posts')\n          .insert([postData])\n          .select()\n          .single();\n\n        console.log('Insert result:', { data, error });\n\n        if (error) {\n          console.error('Insert error:', error);\n          throw error;\n        }\n        postData.id = data.id;\n      }\n\n      toast({\n        title: \"Success\",\n        description: `Post ${status === 'published' ? 'published' : 'saved as draft'} successfully`,\n      });\n\n      onSave(postData as BlogPost);\n    } catch (error: any) {\n      console.error('Error saving post:', error);\n      toast({\n        title: \"Save Error\",\n        description: `Failed to save post: ${error.message}`,\n        variant: \"destructive\",\n      });\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return {\n    formData,\n    saving,\n    handleInputChange,\n    handleTagsChange,\n    handleFeaturedImageChange,\n    handleFeaturedImageRemove,\n    handlePreview,\n    handleSave\n  };\n};\n","\nimport React, { useState, useEffect } from 'react';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Plus, X } from 'lucide-react';\nimport { supabase } from '@/lib/integrations/supabase/client';\n\ninterface BlogPostTagsProps {\n  tags: string[];\n  onTagsChange: (tags: string[]) => void;\n}\n\nexport const BlogPostTags: React.FC<BlogPostTagsProps> = ({\n  tags,\n  onTagsChange\n}) => {\n  const [newTag, setNewTag] = useState('');\n  const [existingTags, setExistingTags] = useState<string[]>([]);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n\n  useEffect(() => {\n    fetchExistingTags();\n  }, []);\n\n  const fetchExistingTags = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('blog_posts')\n        .select('tags')\n        .not('tags', 'is', null);\n\n      if (error) {\n        console.error('Error fetching tags:', error);\n        return;\n      }\n\n      // Extract all unique tags from all posts\n      const allTags = new Set<string>();\n      data?.forEach(post => {\n        if (post.tags && Array.isArray(post.tags)) {\n          post.tags.forEach((tag: string) => allTags.add(tag));\n        }\n      });\n\n      setExistingTags(Array.from(allTags).sort());\n    } catch (error) {\n      console.error('Error fetching existing tags:', error);\n    }\n  };\n\n  const addTag = (tagToAdd?: string) => {\n    const tag = tagToAdd || newTag.trim();\n    if (tag && !tags.includes(tag)) {\n      onTagsChange([...tags, tag]);\n      setNewTag('');\n      setShowSuggestions(false);\n      // Refresh existing tags to include new one\n      fetchExistingTags();\n    }\n  };\n\n  const removeTag = (tagToRemove: string) => {\n    onTagsChange(tags.filter(tag => tag !== tagToRemove));\n  };\n\n  const handleInputFocus = () => {\n    setShowSuggestions(true);\n  };\n\n  const handleInputBlur = () => {\n    // Delay hiding suggestions to allow for clicks\n    setTimeout(() => setShowSuggestions(false), 200);\n  };\n\n  const filteredSuggestions = existingTags.filter(tag => \n    !tags.includes(tag) && \n    tag.toLowerCase().includes(newTag.toLowerCase())\n  ).slice(0, 8);\n\n  return (\n    <div>\n      <Label>Tags</Label>\n      <div className=\"flex flex-wrap gap-2 mb-2\">\n        {tags.map((tag, index) => (\n          <Badge key={index} variant=\"secondary\" className=\"flex items-center gap-1\">\n            {tag}\n            <button\n              onClick={() => removeTag(tag)}\n              className=\"ml-1 hover:text-red-500\"\n            >\n              <X className=\"w-3 h-3\" />\n            </button>\n          </Badge>\n        ))}\n      </div>\n      <div className=\"relative\">\n        <div className=\"flex gap-2\">\n          <div className=\"relative flex-1\">\n            <Input\n              value={newTag}\n              onChange={(e) => setNewTag(e.target.value)}\n              placeholder=\"Add a tag or select from existing\"\n              onKeyPress={(e) => e.key === 'Enter' && addTag()}\n              onFocus={handleInputFocus}\n              onBlur={handleInputBlur}\n            />\n            \n            {/* Tag suggestions dropdown */}\n            {showSuggestions && (filteredSuggestions.length > 0 || existingTags.length > 0) && (\n              <div className=\"absolute top-full left-0 right-0 z-50 mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-48 overflow-y-auto\">\n                <div className=\"p-2\">\n                  <div className=\"text-xs text-gray-500 mb-1\">Existing tags:</div>\n                  <div className=\"flex flex-wrap gap-1\">\n                    {(newTag ? filteredSuggestions : existingTags.filter(tag => !tags.includes(tag)).slice(0, 10)).map((tag) => (\n                      <button\n                        key={tag}\n                        type=\"button\"\n                        onClick={() => addTag(tag)}\n                        className=\"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded-md transition-colors\"\n                      >\n                        {tag}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n          <Button type=\"button\" onClick={() => addTag()} size=\"sm\">\n            <Plus className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\n\ninterface EditorPreviewProps {\n  content: string;\n}\n\nexport const EditorPreview: React.FC<EditorPreviewProps> = ({ content }) => {\n  return (\n    <div className=\"min-h-[400px] p-4 border rounded-lg bg-white\">\n      <style dangerouslySetInnerHTML={{\n        __html: `\n        `\n      }} />\n      <div \n        className=\"prose prose-lg max-w-none\"\n        dangerouslySetInnerHTML={{ __html: content }}\n      />\n    </div>\n  );\n};","\nimport React from 'react';\nimport { YouTubeEmbedEditor } from '../YouTubeEmbedEditor';\n\ninterface EditorDialogsProps {\n  youtubeManager: any;\n}\n\nexport const EditorDialogs: React.FC<EditorDialogsProps> = ({\n  youtubeManager\n}) => {\n  return (\n    <>\n      <YouTubeEmbedEditor\n        isOpen={youtubeManager.showYouTubeEditor}\n        onClose={() => {\n          youtubeManager.setShowYouTubeEditor(false);\n          youtubeManager.setYoutubeToEdit(null);\n        }}\n        onInsert={youtubeManager.insertYouTubeEmbed}\n        initialData={youtubeManager.youtubeToEdit || undefined}\n      />\n    </>\n  );\n};\n","\nimport { useRef, useState } from 'react';\nimport { useLinkEditor } from './hooks/useLinkEditor';\nimport { useImageEditor } from './hooks/useImageEditor';\nimport { useTextEditor } from './hooks/useTextEditor';\nimport { addRemoveButtonsToImages } from './utils/imageUtils';\nimport { ImageData } from './ImageEditor';\n\nexport const useEditorLogic = (onChange: (content: string) => void) => {\n  const editorRef = useRef<HTMLDivElement>(null);\n  const [savedRange, setSavedRange] = useState<Range | null>(null);\n  \n  const linkEditor = useLinkEditor();\n  const imageEditor = useImageEditor();\n  const textEditor = useTextEditor();\n\n  const handleContentChange = () => {\n    if (editorRef.current) {\n      onChange(editorRef.current.innerHTML);\n    }\n  };\n\n  const saveSelection = () => {\n    const selection = window.getSelection();\n    if (selection && selection.rangeCount > 0) {\n      setSavedRange(selection.getRangeAt(0).cloneRange());\n    }\n  };\n\n  const restoreSelection = () => {\n    if (savedRange) {\n      const selection = window.getSelection();\n      if (selection) {\n        selection.removeAllRanges();\n        selection.addRange(savedRange);\n      }\n    }\n  };\n\n  const addRemoveButtonsWrapper = () => {\n    addRemoveButtonsToImages(editorRef, handleContentChange);\n  };\n\n  return {\n    // Editor ref\n    editorRef,\n    \n    // Content handling\n    handleContentChange,\n    \n    // Selection management\n    saveSelection,\n    restoreSelection,\n    \n    // Text editor functions\n    formatText: (command: string) => textEditor.formatText(command, handleContentChange),\n    insertHeading: (level: number) => textEditor.insertHeading(level, editorRef, handleContentChange),\n    insertList: (ordered: boolean) => textEditor.insertList(ordered, editorRef, handleContentChange),\n    insertQuote: () => textEditor.insertQuote(editorRef, handleContentChange),\n    \n    // Link editor\n    ...linkEditor,\n    insertLink: () => linkEditor.insertLink(editorRef, handleContentChange),\n    \n    // Image editor\n    ...imageEditor,\n    insertImage: (imageData: ImageData) => imageEditor.insertImage(imageData, editorRef, handleContentChange, addRemoveButtonsWrapper),\n    \n    // Image utilities\n    addRemoveButtonsToImages: addRemoveButtonsWrapper\n  };\n};\n","import React from 'react';\n\ninterface EditorContentProps {\n  editorRef: React.RefObject<HTMLDivElement>;\n  onInput: (e: React.FormEvent<HTMLDivElement>) => void;\n  onPaste: (e: React.ClipboardEvent) => void;\n}\n\nexport const EditorContent: React.FC<EditorContentProps> = ({\n  editorRef,\n  onInput,\n  onPaste\n}) => {\n  return (\n    <div className=\"relative\">\n      <div\n        ref={editorRef}\n        contentEditable\n        onInput={onInput}\n        onPaste={onPaste}\n        className=\"min-h-[400px] p-4 border rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-orange-500\"\n        style={{\n          lineHeight: '1.6',\n          fontSize: '16px',\n          color: '#374151'\n        }}\n      />\n    </div>\n  );\n};","\nimport React from 'react';\nimport { ImageEditor, ImageData } from './ImageEditor';\nimport { TextFormattingButtons } from './components/TextFormattingButtons';\nimport { HeadingButtons } from './components/HeadingButtons';\nimport { ListButtons } from './components/ListButtons';\nimport { LinkDialog } from './components/LinkDialog';\nimport { ImageButtons } from './components/ImageButtons';\nimport { Button } from '@/components/ui/button';\nimport { Youtube } from 'lucide-react';\n\ninterface EditorToolbarProps {\n  onFormatText: (command: string) => void;\n  onInsertHeading: (level: number) => void;\n  onInsertList: (ordered: boolean) => void;\n  onInsertQuote: () => void;\n  onLinkClick: () => void;\n  onImageUpload: () => void;\n  onYouTubeClick: () => void;\n  uploading: boolean;\n  showLinkDialog: boolean;\n  setShowLinkDialog: (show: boolean) => void;\n  linkUrl: string;\n  setLinkUrl: (url: string) => void;\n  linkText: string;\n  setLinkText: (text: string) => void;\n  linkNofollow: boolean;\n  setLinkNofollow: (nofollow: boolean) => void;\n  linkSponsored: boolean;\n  setLinkSponsored: (sponsored: boolean) => void;\n  linkNewTab: boolean;\n  setLinkNewTab: (newTab: boolean) => void;\n  onInsertLink: () => void;\n  showImageDialog: boolean;\n  setShowImageDialog: (show: boolean) => void;\n  showImageEditor: boolean;\n  setShowImageEditor: (show: boolean) => void;\n  imageUrl: string;\n  setImageUrl: (url: string) => void;\n  imageAlt: string;\n  setImageAlt: (alt: string) => void;\n  onInsertImageUrl: () => void;\n  onInsertImage: (imageData: ImageData) => void;\n  imageToEdit?: ImageData | null;\n}\n\nexport const EditorToolbar: React.FC<EditorToolbarProps> = ({\n  onFormatText,\n  onInsertHeading,\n  onInsertList,\n  onInsertQuote,\n  onLinkClick,\n  onImageUpload,\n  onYouTubeClick,\n  uploading,\n  showLinkDialog,\n  setShowLinkDialog,\n  linkUrl,\n  setLinkUrl,\n  linkText,\n  setLinkText,\n  linkNofollow,\n  setLinkNofollow,\n  linkSponsored,\n  setLinkSponsored,\n  linkNewTab,\n  setLinkNewTab,\n  onInsertLink,\n  showImageDialog,\n  setShowImageDialog,\n  showImageEditor,\n  setShowImageEditor,\n  imageUrl,\n  setImageUrl,\n  imageAlt,\n  setImageAlt,\n  onInsertImageUrl,\n  onInsertImage,\n  imageToEdit\n}) => {\n  return (\n    <div className=\"border rounded-lg p-3 bg-gray-50\">\n      <div className=\"flex flex-wrap gap-2\">\n        <HeadingButtons onInsertHeading={onInsertHeading} />\n        \n        <TextFormattingButtons \n          onFormatText={onFormatText}\n          onInsertQuote={onInsertQuote}\n        />\n        \n        <ListButtons onInsertList={onInsertList} />\n        \n        <LinkDialog\n          onLinkClick={onLinkClick}\n          showLinkDialog={showLinkDialog}\n          setShowLinkDialog={setShowLinkDialog}\n          linkUrl={linkUrl}\n          setLinkUrl={setLinkUrl}\n          linkText={linkText}\n          setLinkText={setLinkText}\n          linkNofollow={linkNofollow}\n          setLinkNofollow={setLinkNofollow}\n          linkSponsored={linkSponsored}\n          setLinkSponsored={setLinkSponsored}\n          linkNewTab={linkNewTab}\n          setLinkNewTab={setLinkNewTab}\n          onInsertLink={onInsertLink}\n        />\n\n        <ImageButtons\n          onImageUpload={onImageUpload}\n          uploading={uploading}\n        />\n\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={onYouTubeClick}\n          className=\"flex items-center gap-2 bg-white hover:bg-gray-100\"\n          type=\"button\"\n        >\n          <Youtube className=\"w-4 h-4\" />\n          <span className=\"hidden sm:inline\">YouTube</span>\n        </Button>\n      </div>\n\n      <ImageEditor\n        isOpen={showImageEditor}\n        onClose={() => setShowImageEditor(false)}\n        onInsert={onInsertImage}\n        initialData={imageToEdit || (imageUrl ? { url: imageUrl, alt: imageAlt } : undefined)}\n      />\n    </div>\n  );\n};\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Image\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiByeT0iMiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iOSIgcj0iMiIgLz4KICA8cGF0aCBkPSJtMjEgMTUtMy4wODYtMy4wODZhMiAyIDAgMCAwLTIuODI4IDBMNiAyMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/image\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Image = createLucideIcon('Image', [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', ry: '2', key: '1m3agn' }],\n  ['circle', { cx: '9', cy: '9', r: '2', key: 'af1f0g' }],\n  ['path', { d: 'm21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21', key: '1xmnt7' }],\n]);\n\nexport default Image;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Link\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMTNhNSA1IDAgMCAwIDcuNTQuNTRsMy0zYTUgNSAwIDAgMC03LjA3LTcuMDdsLTEuNzIgMS43MSIgLz4KICA8cGF0aCBkPSJNMTQgMTFhNSA1IDAgMCAwLTcuNTQtLjU0bC0zIDNhNSA1IDAgMCAwIDcuMDcgNy4wN2wxLjcxLTEuNzEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/link\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Link = createLucideIcon('Link', [\n  ['path', { d: 'M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71', key: '1cjeqo' }],\n  ['path', { d: 'M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71', key: '19qd67' }],\n]);\n\nexport default Link;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Italic\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMTkiIHgyPSIxMCIgeTE9IjQiIHkyPSI0IiAvPgogIDxsaW5lIHgxPSIxNCIgeDI9IjUiIHkxPSIyMCIgeTI9IjIwIiAvPgogIDxsaW5lIHgxPSIxNSIgeDI9IjkiIHkxPSI0IiB5Mj0iMjAiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/italic\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Italic = createLucideIcon('Italic', [\n  ['line', { x1: '19', x2: '10', y1: '4', y2: '4', key: '15jd3p' }],\n  ['line', { x1: '14', x2: '5', y1: '20', y2: '20', key: 'bu0au3' }],\n  ['line', { x1: '15', x2: '9', y1: '4', y2: '20', key: 'uljnxc' }],\n]);\n\nexport default Italic;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Heading2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAxMmg4IiAvPgogIDxwYXRoIGQ9Ik00IDE4VjYiIC8+CiAgPHBhdGggZD0iTTEyIDE4VjYiIC8+CiAgPHBhdGggZD0iTTIxIDE4aC00YzAtNCA0LTMgNC02IDAtMS41LTItMi41LTQtMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/heading-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Heading2 = createLucideIcon('Heading2', [\n  ['path', { d: 'M4 12h8', key: '17cfdx' }],\n  ['path', { d: 'M4 18V6', key: '1rz3zl' }],\n  ['path', { d: 'M12 18V6', key: 'zqpxq5' }],\n  ['path', { d: 'M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1', key: '9jr5yi' }],\n]);\n\nexport default Heading2;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Heading3\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAxMmg4IiAvPgogIDxwYXRoIGQ9Ik00IDE4VjYiIC8+CiAgPHBhdGggZD0iTTEyIDE4VjYiIC8+CiAgPHBhdGggZD0iTTE3LjUgMTAuNWMxLjctMSAzLjUgMCAzLjUgMS41YTIgMiAwIDAgMS0yIDIiIC8+CiAgPHBhdGggZD0iTTE3IDE3LjVjMiAxLjUgNCAuMyA0LTEuNWEyIDIgMCAwIDAtMi0yIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/heading-3\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Heading3 = createLucideIcon('Heading3', [\n  ['path', { d: 'M4 12h8', key: '17cfdx' }],\n  ['path', { d: 'M4 18V6', key: '1rz3zl' }],\n  ['path', { d: 'M12 18V6', key: 'zqpxq5' }],\n  ['path', { d: 'M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2', key: '68ncm8' }],\n  ['path', { d: 'M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2', key: '1ejuhz' }],\n]);\n\nexport default Heading3;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Quote\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgM2EyIDIgMCAwIDAtMiAydjZhMiAyIDAgMCAwIDIgMiAxIDEgMCAwIDEgMSAxdjFhMiAyIDAgMCAxLTIgMiAxIDEgMCAwIDAtMSAxdjJhMSAxIDAgMCAwIDEgMSA2IDYgMCAwIDAgNi02VjVhMiAyIDAgMCAwLTItMnoiIC8+CiAgPHBhdGggZD0iTTUgM2EyIDIgMCAwIDAtMiAydjZhMiAyIDAgMCAwIDIgMiAxIDEgMCAwIDEgMSAxdjFhMiAyIDAgMCAxLTIgMiAxIDEgMCAwIDAtMSAxdjJhMSAxIDAgMCAwIDEgMSA2IDYgMCAwIDAgNi02VjVhMiAyIDAgMCAwLTItMnoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/quote\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Quote = createLucideIcon('Quote', [\n  [\n    'path',\n    {\n      d: 'M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z',\n      key: 'rib7q0',\n    },\n  ],\n  [\n    'path',\n    {\n      d: 'M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z',\n      key: '1ymkrd',\n    },\n  ],\n]);\n\nexport default Quote;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name List\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxMmguMDEiIC8+CiAgPHBhdGggZD0iTTMgMThoLjAxIiAvPgogIDxwYXRoIGQ9Ik0zIDZoLjAxIiAvPgogIDxwYXRoIGQ9Ik04IDEyaDEzIiAvPgogIDxwYXRoIGQ9Ik04IDE4aDEzIiAvPgogIDxwYXRoIGQ9Ik04IDZoMTMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/list\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst List = createLucideIcon('List', [\n  ['path', { d: 'M3 12h.01', key: 'nlz23k' }],\n  ['path', { d: 'M3 18h.01', key: '1tta3j' }],\n  ['path', { d: 'M3 6h.01', key: '1rqtza' }],\n  ['path', { d: 'M8 12h13', key: '1za7za' }],\n  ['path', { d: 'M8 18h13', key: '1lx6n3' }],\n  ['path', { d: 'M8 6h13', key: 'ik3vkj' }],\n]);\n\nexport default List;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ListOrdered\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMTJoMTEiIC8+CiAgPHBhdGggZD0iTTEwIDE4aDExIiAvPgogIDxwYXRoIGQ9Ik0xMCA2aDExIiAvPgogIDxwYXRoIGQ9Ik00IDEwaDIiIC8+CiAgPHBhdGggZD0iTTQgNmgxdjQiIC8+CiAgPHBhdGggZD0iTTYgMThINGMwLTEgMi0yIDItM3MtMS0xLjUtMi0xIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/list-ordered\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ListOrdered = createLucideIcon('ListOrdered', [\n  ['path', { d: 'M10 12h11', key: '6m4ad9' }],\n  ['path', { d: 'M10 18h11', key: '11hvi2' }],\n  ['path', { d: 'M10 6h11', key: 'c7qv1k' }],\n  ['path', { d: 'M4 10h2', key: '16xx2s' }],\n  ['path', { d: 'M4 6h1v4', key: 'cnovpq' }],\n  ['path', { d: 'M6 18H4c0-1 2-2 2-3s-1-1.5-2-1', key: 'm9a95d' }],\n]);\n\nexport default ListOrdered;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Bold\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNiAxMmg5YTQgNCAwIDAgMSAwIDhIN2ExIDEgMCAwIDEtMS0xVjVhMSAxIDAgMCAxIDEtMWg3YTQgNCAwIDAgMSAwIDgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/bold\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Bold = createLucideIcon('Bold', [\n  [\n    'path',\n    { d: 'M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8', key: 'mg9rjx' },\n  ],\n]);\n\nexport default Bold;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUuMiAzYTIgMiAwIDAgMSAxLjQuNmwzLjggMy44YTIgMiAwIDAgMSAuNiAxLjRWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTcgMjF2LTdhMSAxIDAgMCAwLTEtMUg4YTEgMSAwIDAgMC0xIDF2NyIgLz4KICA8cGF0aCBkPSJNNyAzdjRhMSAxIDAgMCAwIDEgMWg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('Save', [\n  [\n    'path',\n    {\n      d: 'M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z',\n      key: '1c8476',\n    },\n  ],\n  ['path', { d: 'M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7', key: '1ydtos' }],\n  ['path', { d: 'M7 3v4a1 1 0 0 0 1 1h7', key: 't51u73' }],\n]);\n\nexport default Save;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Heading1\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAxMmg4IiAvPgogIDxwYXRoIGQ9Ik00IDE4VjYiIC8+CiAgPHBhdGggZD0iTTEyIDE4VjYiIC8+CiAgPHBhdGggZD0ibTE3IDEyIDMtMnY4IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/heading-1\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Heading1 = createLucideIcon('Heading1', [\n  ['path', { d: 'M4 12h8', key: '17cfdx' }],\n  ['path', { d: 'M4 18V6', key: '1rz3zl' }],\n  ['path', { d: 'M12 18V6', key: 'zqpxq5' }],\n  ['path', { d: 'm17 12 3-2v8', key: '1hhhft' }],\n]);\n\nexport default Heading1;\n","\nimport React from 'react';\nimport { Button } from '@/components/ui/button';\nimport { List, ListOrdered } from 'lucide-react';\n\ninterface ListButtonsProps {\n  onInsertList: (ordered: boolean) => void;\n}\n\nexport const ListButtons: React.FC<ListButtonsProps> = ({\n  onInsertList\n}) => {\n  return (\n    <>\n      <Button\n        variant=\"outline\"\n        size=\"sm\"\n        onClick={() => onInsertList(false)}\n        className=\"flex items-center gap-2 bg-white hover:bg-gray-100\"\n        type=\"button\"\n      >\n        <List className=\"w-4 h-4\" />\n        <span className=\"hidden sm:inline\">Bullets</span>\n      </Button>\n      \n      <Button\n        variant=\"outline\"\n        size=\"sm\"\n        onClick={() => onInsertList(true)}\n        className=\"flex items-center gap-2 bg-white hover:bg-gray-100\"\n        type=\"button\"\n      >\n        <ListOrdered className=\"w-4 h-4\" />\n        <span className=\"hidden sm:inline\">Numbers</span>\n      </Button>\n    </>\n  );\n};\n","\nimport React from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Heading1, Heading2, Heading3 } from 'lucide-react';\n\ninterface HeadingButtonsProps {\n  onInsertHeading: (level: number) => void;\n}\n\nexport const HeadingButtons: React.FC<HeadingButtonsProps> = ({\n  onInsertHeading\n}) => {\n  return (\n    <>\n      <Button\n        variant=\"outline\"\n        size=\"sm\"\n        onClick={() => onInsertHeading(1)}\n        className=\"flex items-center gap-2 bg-white hover:bg-gray-100\"\n        type=\"button\"\n      >\n        <Heading1 className=\"w-4 h-4\" />\n        <span className=\"hidden sm:inline\">H1</span>\n      </Button>\n      \n      <Button\n        variant=\"outline\"\n        size=\"sm\"\n        onClick={() => onInsertHeading(2)}\n        className=\"flex items-center gap-2 bg-white hover:bg-gray-100\"\n        type=\"button\"\n      >\n        <Heading2 className=\"w-4 h-4\" />\n        <span className=\"hidden sm:inline\">H2</span>\n      </Button>\n      \n      <Button\n        variant=\"outline\"\n        size=\"sm\"\n        onClick={() => onInsertHeading(3)}\n        className=\"flex items-center gap-2 bg-white hover:bg-gray-100\"\n        type=\"button\"\n      >\n        <Heading3 className=\"w-4 h-4\" />\n        <span className=\"hidden sm:inline\">H3</span>\n      </Button>\n    </>\n  );\n};\n","\nimport React from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Bold, Italic, Quote } from 'lucide-react';\n\ninterface TextFormattingButtonsProps {\n  onFormatText: (command: string) => void;\n  onInsertQuote: () => void;\n}\n\nexport const TextFormattingButtons: React.FC<TextFormattingButtonsProps> = ({\n  onFormatText,\n  onInsertQuote\n}) => {\n  return (\n    <>\n      <Button\n        variant=\"outline\"\n        size=\"sm\"\n        onClick={() => onFormatText('bold')}\n        className=\"flex items-center gap-2 bg-white hover:bg-gray-100\"\n        type=\"button\"\n      >\n        <Bold className=\"w-4 h-4\" />\n        <span className=\"hidden sm:inline\">Bold</span>\n      </Button>\n      \n      <Button\n        variant=\"outline\"\n        size=\"sm\"\n        onClick={() => onFormatText('italic')}\n        className=\"flex items-center gap-2 bg-white hover:bg-gray-100\"\n        type=\"button\"\n      >\n        <Italic className=\"w-4 h-4\" />\n        <span className=\"hidden sm:inline\">Italic</span>\n      </Button>\n      \n      <Button\n        variant=\"outline\"\n        size=\"sm\"\n        onClick={onInsertQuote}\n        className=\"flex items-center gap-2 bg-white hover:bg-gray-100\"\n        type=\"button\"\n      >\n        <Quote className=\"w-4 h-4\" />\n        <span className=\"hidden sm:inline\">Quote</span>\n      </Button>\n    </>\n  );\n};\n","\nimport { useState } from 'react';\nimport { YouTubeEmbedData } from '../YouTubeEmbedEditor';\n\ninterface UseYouTubeManagerProps {\n  editorRef: React.RefObject<HTMLDivElement>;\n  onChange: (content: string) => void;\n  handleContentChange: () => void;\n  saveSelection?: () => void;\n}\n\nexport const useYouTubeManager = ({\n  editorRef,\n  onChange,\n  handleContentChange,\n  saveSelection\n}: UseYouTubeManagerProps) => {\n  const [showYouTubeEditor, setShowYouTubeEditor] = useState(false);\n  const [youtubeToEdit, setYoutubeToEdit] = useState<YouTubeEmbedData | null>(null);\n  const [savedRange, setSavedRange] = useState<Range | null>(null);\n\n  const insertYouTubeEmbed = (data: YouTubeEmbedData) => {\n    if (!editorRef.current) return;\n\n    const embedHtml = `\n      <div class=\"youtube-embed\" data-youtube-id=\"${data.id}\" data-youtube-data='${JSON.stringify(data)}'>\n        <div class=\"relative w-full h-0 pb-[56.25%] mb-4\">\n          <iframe \n            class=\"absolute top-0 left-0 w-full h-full rounded-lg\"\n            src=\"https://www.youtube.com/embed/${data.videoId}\" \n            title=\"YouTube video\" \n            frameborder=\"0\" \n            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" \n            allowfullscreen>\n          </iframe>\n        </div>\n        ${data.caption ? `<div class=\"youtube-caption text-center text-sm text-gray-600 italic mb-4\">${data.caption}</div>` : ''}\n      </div>\n    `;\n    \n    // If we're editing an existing YouTube embed, replace it\n    if (youtubeToEdit) {\n      const existingEmbed = editorRef.current.querySelector(`[data-youtube-id=\"${youtubeToEdit.id}\"]`);\n      if (existingEmbed) {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = embedHtml;\n        const newEmbed = tempDiv.firstElementChild as HTMLElement;\n        existingEmbed.parentNode?.replaceChild(newEmbed, existingEmbed);\n        \n        handleContentChange();\n        setTimeout(() => addRemoveButtonsToEmbeds(), 100);\n        setYoutubeToEdit(null);\n        return;\n      }\n    }\n\n    // For new embeds, try to use saved selection first\n    let targetRange = savedRange;\n    \n    // If no saved range, try to get current selection\n    if (!targetRange) {\n      const selection = window.getSelection();\n      if (selection && selection.rangeCount > 0) {\n        targetRange = selection.getRangeAt(0);\n      }\n    }\n\n    // If still no range, create one at the end of the editor\n    if (!targetRange) {\n      targetRange = document.createRange();\n      targetRange.selectNodeContents(editorRef.current);\n      targetRange.collapse(false); // Move to end\n    }\n\n    // Make sure the range is within our editor\n    if (!editorRef.current.contains(targetRange.commonAncestorContainer)) {\n      targetRange = document.createRange();\n      targetRange.selectNodeContents(editorRef.current);\n      targetRange.collapse(false);\n    }\n\n    // Insert the embed\n    const tempDiv = document.createElement('div');\n    tempDiv.innerHTML = embedHtml;\n    const embedElement = tempDiv.firstElementChild as HTMLElement;\n    \n    try {\n      targetRange.deleteContents();\n      targetRange.insertNode(embedElement);\n      \n      // Move cursor after the embed\n      targetRange.setStartAfter(embedElement);\n      targetRange.collapse(true);\n      \n      // Update selection\n      const selection = window.getSelection();\n      if (selection) {\n        selection.removeAllRanges();\n        selection.addRange(targetRange);\n      }\n    } catch (error) {\n      console.error('Error inserting YouTube embed:', error);\n      // Fallback: append to end of editor\n      editorRef.current.appendChild(embedElement);\n    }\n    \n    // Clear saved range\n    setSavedRange(null);\n    \n    handleContentChange();\n    setTimeout(() => addRemoveButtonsToEmbeds(), 100);\n  };\n\n  const addRemoveButtonsToEmbeds = () => {\n    if (!editorRef.current) return;\n    \n    const embeds = editorRef.current.querySelectorAll('.youtube-embed:not([data-has-buttons])');\n    embeds.forEach((embed) => {\n      const container = embed as HTMLElement;\n      container.setAttribute('data-has-buttons', 'true');\n      container.style.position = 'relative';\n      \n      // Remove button\n      const removeBtn = document.createElement('button');\n      removeBtn.innerHTML = '×';\n      removeBtn.style.cssText = 'position: absolute; top: 8px; right: 8px; width: 24px; height: 24px; background: #ef4444; border: none; border-radius: 50%; cursor: pointer; font-size: 16px; color: white; z-index: 1000; opacity: 0; transition: opacity 0.2s;';\n      removeBtn.addEventListener('click', (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        container.remove();\n        onChange(editorRef.current?.innerHTML || '');\n      });\n      \n      // Edit button\n      const editBtn = document.createElement('button');\n      editBtn.innerHTML = '✏️';\n      editBtn.style.cssText = 'position: absolute; top: 8px; right: 36px; width: 24px; height: 24px; background: #3b82f6; border: none; border-radius: 50%; cursor: pointer; font-size: 12px; color: white; z-index: 1000; opacity: 0; transition: opacity 0.2s;';\n      editBtn.addEventListener('click', (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const youtubeData = container.getAttribute('data-youtube-data');\n        if (youtubeData) {\n          setYoutubeToEdit(JSON.parse(youtubeData));\n          setShowYouTubeEditor(true);\n        }\n      });\n      \n      container.appendChild(removeBtn);\n      container.appendChild(editBtn);\n      \n      container.addEventListener('mouseenter', () => {\n        removeBtn.style.opacity = '1';\n        editBtn.style.opacity = '1';\n      });\n      container.addEventListener('mouseleave', () => {\n        removeBtn.style.opacity = '0';\n        editBtn.style.opacity = '0';\n      });\n    });\n  };\n\n  const handleYouTubeClick = () => {\n    // Save current selection\n    const selection = window.getSelection();\n    if (selection && selection.rangeCount > 0) {\n      setSavedRange(selection.getRangeAt(0).cloneRange());\n    }\n    \n    // Also try the parent's saveSelection if available\n    saveSelection?.();\n    \n    setShowYouTubeEditor(true);\n  };\n\n  return {\n    showYouTubeEditor,\n    setShowYouTubeEditor,\n    youtubeToEdit,\n    setYoutubeToEdit,\n    insertYouTubeEmbed,\n    addRemoveButtonsToEmbeds,\n    handleYouTubeClick\n  };\n};\n","\nimport { useEffect, useState } from 'react';\nimport { useEditorLogic } from '../useEditorLogic';\nimport { useYouTubeManager } from './useYouTubeManager';\nimport { ImageData } from '../ImageEditor';\n\ninterface UseWYSIWYGEditorProps {\n  content: string;\n  onChange: (content: string) => void;\n}\n\nexport const useWYSIWYGEditor = ({ content, onChange }: UseWYSIWYGEditorProps) => {\n  const [activeTab, setActiveTab] = useState<'edit' | 'preview' | 'html'>('edit');\n  const [htmlContent, setHtmlContent] = useState(content);\n  \n  const editorLogic = useEditorLogic(onChange);\n\n  const youtubeManager = useYouTubeManager({\n    editorRef: editorLogic.editorRef,\n    onChange,\n    handleContentChange: editorLogic.handleContentChange,\n    saveSelection: editorLogic.saveSelection\n  });\n\n  // Sync content with editor and HTML\n  useEffect(() => {\n    setHtmlContent(content);\n    if (editorLogic.editorRef.current && content !== editorLogic.editorRef.current.innerHTML) {\n      editorLogic.editorRef.current.innerHTML = content;\n      setTimeout(() => {\n        editorLogic.addRemoveButtonsToImages();\n        youtubeManager.addRemoveButtonsToEmbeds();\n      }, 100);\n    }\n  }, [content, editorLogic.addRemoveButtonsToImages, youtubeManager.addRemoveButtonsToEmbeds]);\n\n  // Handle image editing\n  useEffect(() => {\n    const handleImageEdit = (event: any) => {\n      const imageData = event.detail;\n      const imageElement = imageData.sourceContainer || event.target?.closest?.('.image-container') || event.target;\n      \n      if (imageData && imageElement) {\n        const { sourceContainer, ...cleanImageData } = imageData;\n        editorLogic.startImageEdit(cleanImageData, imageElement);\n      }\n    };\n\n    if (editorLogic.editorRef.current) {\n      editorLogic.editorRef.current.addEventListener('editImage', handleImageEdit);\n      return () => {\n        if (editorLogic.editorRef.current) {\n          editorLogic.editorRef.current.removeEventListener('editImage', handleImageEdit);\n        }\n      };\n    }\n  }, [editorLogic.startImageEdit]);\n\n  const handleImageUploadClick = () => {\n    editorLogic.saveSelection?.();\n    editorLogic.fileInputRef.current?.click();\n  };\n\n  const handleImageInsert = (imageData: ImageData) => {\n    editorLogic.insertImage(imageData);\n  };\n\n  // Enhanced content change handler to ensure proper syncing\n  const handleEditorInput = (e: React.FormEvent<HTMLDivElement>) => {\n    const newContent = editorLogic.editorRef.current?.innerHTML || '';\n    setHtmlContent(newContent);\n    onChange(newContent);\n    \n    // Debounced re-render to avoid excessive calls\n    setTimeout(() => {\n      if (editorLogic.editorRef.current) {\n        editorLogic.addRemoveButtonsToImages();\n        youtubeManager.addRemoveButtonsToEmbeds();\n      }\n    }, 100);\n  };\n\n  // Handle paste events to trigger content sync\n  const handlePaste = (e: React.ClipboardEvent) => {\n    setTimeout(() => {\n      const newContent = editorLogic.editorRef.current?.innerHTML || '';\n      setHtmlContent(newContent);\n      onChange(newContent);\n      editorLogic.addRemoveButtonsToImages();\n      youtubeManager.addRemoveButtonsToEmbeds();\n    }, 100);\n  };\n\n  const handleHtmlChange = (newHtml: string) => {\n    setHtmlContent(newHtml);\n    onChange(newHtml);\n  };\n\n  // Handle tab changes to preserve content\n  const handleTabChange = (newTab: 'edit' | 'preview' | 'html') => {\n    // If switching away from edit tab, save current content\n    if (activeTab === 'edit' && editorLogic.editorRef.current) {\n      const currentContent = editorLogic.editorRef.current.innerHTML;\n      setHtmlContent(currentContent);\n      onChange(currentContent);\n    }\n    \n    setActiveTab(newTab);\n    \n    // If switching to edit tab, restore content\n    if (newTab === 'edit') {\n      setTimeout(() => {\n        if (editorLogic.editorRef.current) {\n          editorLogic.editorRef.current.innerHTML = htmlContent;\n          editorLogic.addRemoveButtonsToImages();\n          youtubeManager.addRemoveButtonsToEmbeds();\n        }\n      }, 50);\n    }\n  };\n\n  return {\n    activeTab,\n    setActiveTab: handleTabChange,\n    editorLogic,\n    youtubeManager,\n    handleImageUploadClick,\n    handleImageInsert,\n    handleEditorInput,\n    handlePaste,\n    htmlContent,\n    handleHtmlChange\n  };\n};\n","\nimport React from 'react';\n\ninterface CTABlock {\n  id: string;\n  type: string;\n  content: string;\n}\n\ninterface CTABlockManagerProps {\n  content: string;\n  onChange: (content: string) => void;\n}\n\nexport const CTABlockManager: React.FC<CTABlockManagerProps> = ({ content, onChange }) => {\n  const removeBlock = (blockId: string) => {\n    // Create a temporary div to parse the HTML\n    const tempDiv = document.createElement('div');\n    tempDiv.innerHTML = content;\n    \n    // Find and remove the block with the matching ID\n    const blockToRemove = tempDiv.querySelector(`[data-block-id=\"${blockId}\"]`);\n    if (blockToRemove) {\n      blockToRemove.remove();\n      onChange(tempDiv.innerHTML);\n    }\n  };\n\n  // Add event listeners for remove buttons when content changes\n  React.useEffect(() => {\n    const handleRemoveClick = (event: Event) => {\n      const target = event.target as HTMLElement;\n      if (target.classList.contains('cta-remove-btn')) {\n        event.preventDefault();\n        event.stopPropagation();\n        \n        const blockId = target.getAttribute('data-block-id');\n        if (blockId) {\n          removeBlock(blockId);\n        }\n      }\n    };\n\n    // Add event listener to document\n    document.addEventListener('click', handleRemoveClick);\n    \n    return () => {\n      document.removeEventListener('click', handleRemoveClick);\n    };\n  }, [content]);\n\n  return null; // This component only manages events, doesn't render anything\n};\n","\nimport React from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { FeaturedImageUpload } from '../../FeaturedImageUpload';\nimport { ReusableBlocksManager } from '../../ReusableBlocksManager';\n\ninterface BlogPostSidebarProps {\n  featuredImageUrl: string;\n  featuredImageAlt: string;\n  onFeaturedImageChange: (url: string, alt: string) => void;\n  onFeaturedImageRemove: () => void;\n  onInsertBlock: (blockContent: string) => void;\n}\n\nexport const BlogPostSidebar: React.FC<BlogPostSidebarProps> = ({\n  featuredImageUrl,\n  featuredImageAlt,\n  onFeaturedImageChange,\n  onFeaturedImageRemove,\n  onInsertBlock\n}) => {\n  return (\n    <div className=\"lg:col-span-1 space-y-6\">\n      <FeaturedImageUpload\n        imageUrl={featuredImageUrl}\n        imageAlt={featuredImageAlt}\n        onImageChange={onFeaturedImageChange}\n        onImageRemove={onFeaturedImageRemove}\n      />\n\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-lg\">Content Blocks</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <ReusableBlocksManager \n            onInsertBlock={onInsertBlock} \n            onOpenForm={() => alert('Form popup would open on the live site')} \n          />\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Label } from '@/components/ui/label';\nimport { Youtube } from 'lucide-react';\n\nexport interface YouTubeEmbedData {\n  id: string;\n  url: string;\n  videoId: string;\n  caption?: string;\n}\n\ninterface YouTubeEmbedEditorProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onInsert: (data: YouTubeEmbedData) => void;\n  initialData?: YouTubeEmbedData;\n}\n\nconst extractVideoId = (url: string): string | null => {\n  const regex = /(?:youtube\\.com\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?)\\/|.*[?&]v=)|youtu\\.be\\/)([^\"&?\\/\\s]{11})/;\n  const match = url.match(regex);\n  return match ? match[1] : null;\n};\n\nexport const YouTubeEmbedEditor: React.FC<YouTubeEmbedEditorProps> = ({\n  isOpen,\n  onClose,\n  onInsert,\n  initialData\n}) => {\n  const [url, setUrl] = useState(initialData?.url || '');\n  const [caption, setCaption] = useState(initialData?.caption || '');\n  const [videoId, setVideoId] = useState(initialData?.videoId || '');\n\n  useEffect(() => {\n    if (url) {\n      const id = extractVideoId(url);\n      setVideoId(id || '');\n    } else {\n      setVideoId('');\n    }\n  }, [url]);\n\n  const handleInsert = () => {\n    if (!url.trim() || !videoId) return;\n\n    const embedData: YouTubeEmbedData = {\n      id: initialData?.id || `youtube-${Date.now()}`,\n      url: url.trim(),\n      videoId,\n      caption: caption.trim()\n    };\n\n    onInsert(embedData);\n    onClose();\n  };\n\n  const handleClose = () => {\n    setUrl(initialData?.url || '');\n    setCaption(initialData?.caption || '');\n    setVideoId(initialData?.videoId || '');\n    onClose();\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={handleClose}>\n      <DialogContent className=\"max-w-2xl\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Youtube className=\"w-5 h-5\" />\n            {initialData ? 'Edit YouTube Video' : 'Embed YouTube Video'}\n          </DialogTitle>\n        </DialogHeader>\n\n        <div className=\"space-y-4\">\n          <div>\n            <Label htmlFor=\"youtube-url\">YouTube URL</Label>\n            <Input\n              id=\"youtube-url\"\n              type=\"url\"\n              placeholder=\"https://www.youtube.com/watch?v=...\"\n              value={url}\n              onChange={(e) => setUrl(e.target.value)}\n            />\n            {url && !videoId && (\n              <p className=\"text-sm text-red-600 mt-1\">Invalid YouTube URL</p>\n            )}\n          </div>\n\n          <div>\n            <Label htmlFor=\"youtube-caption\">Caption (Optional)</Label>\n            <Textarea\n              id=\"youtube-caption\"\n              placeholder=\"Add a caption to describe this video...\"\n              value={caption}\n              onChange={(e) => setCaption(e.target.value)}\n              rows={2}\n            />\n          </div>\n\n          {videoId && (\n            <div>\n              <Label>Preview</Label>\n              <div className=\"border rounded-lg overflow-hidden\">\n                <div className=\"relative w-full h-0 pb-[56.25%]\">\n                  <iframe\n                    className=\"absolute top-0 left-0 w-full h-full\"\n                    src={`https://www.youtube.com/embed/${videoId}`}\n                    title=\"YouTube video preview\"\n                    frameBorder=\"0\"\n                    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                    allowFullScreen\n                  />\n                </div>\n                {caption && (\n                  <div className=\"p-3 bg-gray-50\">\n                    <p className=\"text-sm text-gray-600 italic\">{caption}</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n\n          <div className=\"flex justify-end gap-2\">\n            <Button variant=\"outline\" onClick={handleClose}>\n              Cancel\n            </Button>\n            <Button onClick={handleInsert} disabled={!videoId}>\n              {initialData ? 'Update' : 'Insert'} Video\n            </Button>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n};","\nimport React from 'react';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { EditorToolbar } from '../EditorToolbar';\nimport { EditorContent } from '../EditorContent';\nimport { EditorPreview } from '../EditorPreview';\nimport { ImageData } from '../ImageEditor';\n\ninterface EditorTabsProps {\n  activeTab: 'edit' | 'preview' | 'html';\n  setActiveTab: (tab: 'edit' | 'preview' | 'html') => void;\n  content: string;\n  editorLogic: any;\n  youtubeManager: any;\n  handleImageUploadClick: () => void;\n  handleImageInsert: (imageData: ImageData) => void;\n  handleEditorInput: (e: React.FormEvent<HTMLDivElement>) => void;\n  handlePaste: (e: React.ClipboardEvent) => void;\n  htmlContent?: string;\n  handleHtmlChange?: (html: string) => void;\n}\n\nexport const EditorTabs: React.FC<EditorTabsProps> = ({\n  activeTab,\n  setActiveTab,\n  content,\n  editorLogic,\n  youtubeManager,\n  handleImageUploadClick,\n  handleImageInsert,\n  handleEditorInput,\n  handlePaste,\n  htmlContent,\n  handleHtmlChange\n}) => {\n  return (\n    <Tabs value={activeTab} onValueChange={(value) => setActiveTab(value as 'edit' | 'preview' | 'html')}>\n      <TabsList className=\"grid w-full grid-cols-3\">\n        <TabsTrigger value=\"edit\">Edit</TabsTrigger>\n        <TabsTrigger value=\"preview\">Preview</TabsTrigger>\n        <TabsTrigger value=\"html\">HTML</TabsTrigger>\n      </TabsList>\n      \n      <TabsContent value=\"edit\" className=\"space-y-4\">\n        <EditorToolbar\n          onFormatText={editorLogic.formatText}\n          onInsertHeading={editorLogic.insertHeading}\n          onInsertList={editorLogic.insertList}\n          onInsertQuote={editorLogic.insertQuote}\n          onLinkClick={editorLogic.handleLinkClick}\n          onImageUpload={handleImageUploadClick}\n          onYouTubeClick={youtubeManager.handleYouTubeClick}\n          uploading={editorLogic.uploading}\n          showLinkDialog={editorLogic.showLinkDialog}\n          setShowLinkDialog={editorLogic.setShowLinkDialog}\n          linkUrl={editorLogic.linkUrl}\n          setLinkUrl={editorLogic.setLinkUrl}\n          linkText={editorLogic.linkText}\n          setLinkText={editorLogic.setLinkText}\n          linkNofollow={editorLogic.linkNofollow}\n          setLinkNofollow={editorLogic.setLinkNofollow}\n          linkSponsored={editorLogic.linkSponsored}\n          setLinkSponsored={editorLogic.setLinkSponsored}\n          linkNewTab={editorLogic.linkNewTab}\n          setLinkNewTab={editorLogic.setLinkNewTab}\n          onInsertLink={editorLogic.insertLink}\n          showImageDialog={editorLogic.showImageDialog}\n          setShowImageDialog={editorLogic.setShowImageDialog}\n          showImageEditor={editorLogic.showImageEditor}\n          setShowImageEditor={editorLogic.setShowImageEditor}\n          imageUrl={editorLogic.imageUrl}\n          setImageUrl={editorLogic.setImageUrl}\n          imageAlt={editorLogic.imageAlt}\n          setImageAlt={editorLogic.setImageAlt}\n          onInsertImageUrl={editorLogic.insertImageUrl}\n          onInsertImage={handleImageInsert}\n          imageToEdit={editorLogic.imageToEdit}\n        />\n\n        <EditorContent\n          editorRef={editorLogic.editorRef}\n          onInput={handleEditorInput}\n          onPaste={handlePaste}\n        />\n        \n        <div className=\"text-sm text-gray-500 mt-2\">\n          Use the toolbar buttons above to format your content and insert elements like images and YouTube videos.\n        </div>\n      </TabsContent>\n      \n      <TabsContent value=\"preview\" className=\"space-y-4\">\n        <EditorPreview content={content} />\n      </TabsContent>\n      \n      <TabsContent value=\"html\" className=\"space-y-4\">\n        <div className=\"space-y-2\">\n          <label className=\"text-sm font-medium\">Raw HTML</label>\n          <textarea\n            value={htmlContent || content}\n            onChange={(e) => handleHtmlChange?.(e.target.value)}\n            className=\"w-full min-h-[400px] p-4 border rounded-lg bg-white font-mono text-sm focus:outline-none focus:ring-2 focus:ring-orange-500\"\n            placeholder=\"Enter raw HTML content...\"\n          />\n          <div className=\"text-sm text-gray-500\">\n            Edit the raw HTML directly. Changes will sync with the visual editor.\n          </div>\n        </div>\n      </TabsContent>\n    </Tabs>\n  );\n};\n","\nimport React from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Switch } from '@/components/ui/switch';\nimport { Link } from 'lucide-react';\n\ninterface LinkDialogProps {\n  onLinkClick: () => void;\n  showLinkDialog: boolean;\n  setShowLinkDialog: (show: boolean) => void;\n  linkUrl: string;\n  setLinkUrl: (url: string) => void;\n  linkText: string;\n  setLinkText: (text: string) => void;\n  linkNofollow: boolean;\n  setLinkNofollow: (nofollow: boolean) => void;\n  linkSponsored: boolean;\n  setLinkSponsored: (sponsored: boolean) => void;\n  linkNewTab: boolean;\n  setLinkNewTab: (newTab: boolean) => void;\n  onInsertLink: () => void;\n}\n\nexport const LinkDialog: React.FC<LinkDialogProps> = ({\n  onLinkClick,\n  showLinkDialog,\n  setShowLinkDialog,\n  linkUrl,\n  setLinkUrl,\n  linkText,\n  setLinkText,\n  linkNofollow,\n  setLinkNofollow,\n  linkSponsored,\n  setLinkSponsored,\n  linkNewTab,\n  setLinkNewTab,\n  onInsertLink\n}) => {\n  return (\n    <Dialog open={showLinkDialog} onOpenChange={setShowLinkDialog}>\n      <DialogTrigger asChild>\n        <Button \n          variant=\"outline\" \n          size=\"sm\" \n          className=\"flex items-center gap-2 bg-white hover:bg-gray-100\" \n          type=\"button\"\n          onClick={onLinkClick}\n        >\n          <Link className=\"w-4 h-4\" />\n          <span className=\"hidden sm:inline\">Link</span>\n        </Button>\n      </DialogTrigger>\n      <DialogContent className=\"max-w-md\">\n        <DialogHeader>\n          <DialogTitle>Insert Link</DialogTitle>\n        </DialogHeader>\n        <div className=\"space-y-4\">\n          <div>\n            <Label htmlFor=\"linkText\">Link Text</Label>\n            <Input\n              id=\"linkText\"\n              value={linkText}\n              onChange={(e) => setLinkText(e.target.value)}\n              placeholder=\"Click here\"\n            />\n          </div>\n          <div>\n            <Label htmlFor=\"linkUrl\">URL</Label>\n            <Input\n              id=\"linkUrl\"\n              value={linkUrl}\n              onChange={(e) => setLinkUrl(e.target.value)}\n              placeholder=\"https://example.com\"\n            />\n          </div>\n          \n          <div className=\"space-y-3\">\n            <div className=\"flex items-center justify-between\">\n              <Label htmlFor=\"linkNewTab\" className=\"text-sm font-medium\">\n                Open in new tab\n              </Label>\n              <Switch\n                id=\"linkNewTab\"\n                checked={linkNewTab}\n                onCheckedChange={setLinkNewTab}\n              />\n            </div>\n            \n            <div className=\"flex items-center justify-between\">\n              <Label htmlFor=\"linkNofollow\" className=\"text-sm font-medium\">\n                Add nofollow\n              </Label>\n              <Switch\n                id=\"linkNofollow\"\n                checked={linkNofollow}\n                onCheckedChange={setLinkNofollow}\n              />\n            </div>\n            \n            <div className=\"flex items-center justify-between\">\n              <Label htmlFor=\"linkSponsored\" className=\"text-sm font-medium\">\n                Mark as sponsored\n              </Label>\n              <Switch\n                id=\"linkSponsored\"\n                checked={linkSponsored}\n                onCheckedChange={setLinkSponsored}\n              />\n            </div>\n          </div>\n          \n          <Button onClick={onInsertLink} className=\"w-full\" type=\"button\">\n            Insert Link\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n};\n","\nimport React from 'react';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { siteUrl } from '@/lib/siteConfig';\n\ninterface BlogPost {\n  id?: string;\n  title: string;\n  slug: string;\n  content: string;\n  excerpt: string;\n  status: 'draft' | 'published';\n  published_at?: string;\n  meta_title: string;\n  meta_description: string;\n  og_image_url: string;\n  og_image_alt: string;\n  featured_image_url: string;\n  featured_image_alt: string;\n  canonical_url: string;\n  is_indexed: boolean;\n  tags: string[];\n  reading_time?: number;\n  author_id?: string;\n}\n\ninterface BlogPostSEOFormProps {\n  formData: BlogPost;\n  onInputChange: (field: keyof BlogPost, value: any) => void;\n}\n\nexport const BlogPostSEOForm: React.FC<BlogPostSEOFormProps> = ({\n  formData,\n  onInputChange\n}) => {\n  return (\n    <div className=\"space-y-4\">\n      <div>\n        <Label htmlFor=\"meta_title\">Meta Title</Label>\n        <Input\n          id=\"meta_title\"\n          value={formData.meta_title}\n          onChange={(e) => onInputChange('meta_title', e.target.value)}\n          placeholder=\"SEO title (defaults to post title)\"\n        />\n      </div>\n\n      <div>\n        <Label htmlFor=\"meta_description\">Meta Description</Label>\n        <Textarea\n          id=\"meta_description\"\n          value={formData.meta_description}\n          onChange={(e) => onInputChange('meta_description', e.target.value)}\n          placeholder=\"SEO description (defaults to excerpt)\"\n          rows={3}\n        />\n      </div>\n\n      <div>\n        <Label htmlFor=\"canonical_url\">Canonical URL</Label>\n        <Input\n          id=\"canonical_url\"\n          value={formData.canonical_url}\n          onChange={(e) => onInputChange('canonical_url', e.target.value)}\n          placeholder={`${siteUrl}/blog/post-slug`}\n        />\n      </div>\n\n      <div>\n        <Label htmlFor=\"og_image_url\">Social Media Image URL</Label>\n        <Input\n          id=\"og_image_url\"\n          value={formData.og_image_url}\n          onChange={(e) => onInputChange('og_image_url', e.target.value)}\n          placeholder=\"https://example.com/image.jpg\"\n        />\n      </div>\n\n      <div>\n        <Label htmlFor=\"og_image_alt\">Social Media Image Alt Text</Label>\n        <Input\n          id=\"og_image_alt\"\n          value={formData.og_image_alt}\n          onChange={(e) => onInputChange('og_image_alt', e.target.value)}\n          placeholder=\"Describe the social media image\"\n        />\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":"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","ignoreList":[25,26,27,28,29,30,31,32,33,34,35]}