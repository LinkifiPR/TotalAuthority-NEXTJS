{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/button.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/dashboard/DashboardHeader.tsx"],"sourcesContent":["\"use client\";\n\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { Button } from '@/components/ui/button';\nimport { User, LogOut } from 'lucide-react';\nimport { User as UserType } from '@supabase/supabase-js';\n\ninterface DashboardHeaderProps {\n  user: UserType;\n  onSignOut: () => void;\n}\n\nconst DashboardHeader = ({ user, onSignOut }: DashboardHeaderProps) => {\n  return (\n    <header className=\"bg-white/95 backdrop-blur-sm border-b border-slate-200 sticky top-0 z-50\">\n      <div className=\"max-w-6xl mx-auto px-4 py-3 md:py-4 flex items-center justify-between\">\n        <Link href=\"/\" className=\"flex items-center space-x-2 md:space-x-3\">\n          <div className=\"relative w-8 h-8 md:w-10 md:h-10 flex items-center justify-center\">\n            <div className=\"absolute inset-0 rounded-full border-2 border-orange-200 opacity-30\"></div>\n            <div className=\"absolute inset-1 rounded-full border border-orange-300 opacity-50\"></div>\n            <div className=\"relative w-5 h-5 md:w-6 md:h-6 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center shadow-lg\">\n              <div className=\"absolute top-1 md:top-1.5 left-0.5 md:left-1 w-0.5 md:w-1 h-0.5 md:h-1 bg-white rounded-full\"></div>\n              <div className=\"absolute top-1 md:top-1.5 right-0.5 md:right-1 w-0.5 md:w-1 h-0.5 md:h-1 bg-white rounded-full\"></div>\n              <div className=\"absolute bottom-1 md:bottom-1.5 left-1/2 transform -translate-x-1/2 w-1 md:w-1.5 h-0.5 bg-white rounded-full\"></div>\n              <div className=\"absolute -top-0.5 left-1/2 transform -translate-x-1/2 w-0.5 h-0.5 bg-orange-400 rounded-full\"></div>\n            </div>\n            <div className=\"absolute top-0.5 right-0.5 w-0.5 md:w-1 h-0.5 md:h-1 bg-blue-500 rounded-full\"></div>\n            <div className=\"absolute bottom-0.5 left-0.5 w-0.5 h-0.5 bg-purple-500 rounded-full\"></div>\n          </div>\n          <div className=\"flex flex-col\">\n            <span className=\"text-lg md:text-xl font-black text-slate-900 tracking-tight leading-none\">\n              Total<span className=\"text-orange-500\">Authority</span>\n            </span>\n            <span className=\"text-xs text-slate-500 font-medium tracking-wider uppercase leading-none mt-0.5 hidden sm:block\">\n              AI Visibility\n            </span>\n          </div>\n        </Link>\n        \n        <div className=\"flex items-center space-x-2 md:space-x-4\">\n          <div className=\"hidden md:flex items-center space-x-2 text-sm text-slate-600\">\n            <User className=\"w-4 h-4\" />\n            <span className=\"truncate max-w-40\">{user.email}</span>\n          </div>\n          <div className=\"flex md:hidden items-center\">\n            <User className=\"w-4 h-4 text-slate-600\" />\n          </div>\n          <Button \n            variant=\"outline\" \n            onClick={onSignOut}\n            className=\"flex items-center space-x-1 md:space-x-2 text-xs md:text-sm px-2 md:px-4 py-1 md:py-2\"\n            size=\"sm\"\n          >\n            <LogOut className=\"w-3 h-3 md:w-4 md:h-4\" />\n            <span className=\"hidden sm:inline\">Sign Out</span>\n          </Button>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default DashboardHeader;\n"],"names":[],"mappings":";;;;;AAIA;AACA;AACA;AAAA;AANA;;;;;AAcA,MAAM,kBAAkB,CAAC,EAAE,IAAI,EAAE,SAAS,EAAwB;IAChE,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,uKAAI;oBAAC,MAAK;oBAAI,WAAU;;sCACvB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;;;;;8CACf,8OAAC;oCAAI,WAAU;;;;;;8CACf,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;;;;;;sDACf,8OAAC;4CAAI,WAAU;;;;;;sDACf,8OAAC;4CAAI,WAAU;;;;;;sDACf,8OAAC;4CAAI,WAAU;;;;;;;;;;;;8CAEjB,8OAAC;oCAAI,WAAU;;;;;;8CACf,8OAAC;oCAAI,WAAU;;;;;;;;;;;;sCAEjB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAK,WAAU;;wCAA2E;sDACpF,8OAAC;4CAAK,WAAU;sDAAkB;;;;;;;;;;;;8CAEzC,8OAAC;oCAAK,WAAU;8CAAkG;;;;;;;;;;;;;;;;;;8BAMtH,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,0MAAI;oCAAC,WAAU;;;;;;8CAChB,8OAAC;oCAAK,WAAU;8CAAqB,KAAK,KAAK;;;;;;;;;;;;sCAEjD,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,0MAAI;gCAAC,WAAU;;;;;;;;;;;sCAElB,8OAAC,qIAAM;4BACL,SAAQ;4BACR,SAAS;4BACT,WAAU;4BACV,MAAK;;8CAEL,8OAAC,oNAAM;oCAAC,WAAU;;;;;;8CAClB,8OAAC;oCAAK,WAAU;8CAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM/C;uCAEe"}},
    {"offset": {"line": 313, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/dashboard/WelcomeSection.tsx"],"sourcesContent":["\"use client\";\n\n\nimport React from 'react';\nimport { Sparkles } from 'lucide-react';\nimport { User } from '@supabase/supabase-js';\n\ninterface WelcomeSectionProps {\n  user: User;\n}\n\nconst WelcomeSection = ({ user }: WelcomeSectionProps) => {\n  return (\n    <div className=\"mb-8\">\n      <div className=\"flex items-center space-x-3 mb-2\">\n        <Sparkles className=\"w-6 h-6 text-orange-500\" />\n        <h1 className=\"text-3xl font-bold text-slate-900\">\n          Welcome back, {user.user_metadata?.full_name || user.email?.split('@')[0]}!\n        </h1>\n      </div>\n      <p className=\"text-slate-600\">\n        Access your audits, manage your packages, and explore AI visibility resources.\n      </p>\n    </div>\n  );\n};\n\nexport default WelcomeSection;\n"],"names":[],"mappings":";;;;;AAIA;AAJA;;;AAWA,MAAM,iBAAiB,CAAC,EAAE,IAAI,EAAuB;IACnD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,sNAAQ;wBAAC,WAAU;;;;;;kCACpB,8OAAC;wBAAG,WAAU;;4BAAoC;4BACjC,KAAK,aAAa,EAAE,aAAa,KAAK,KAAK,EAAE,MAAM,IAAI,CAAC,EAAE;4BAAC;;;;;;;;;;;;;0BAG9E,8OAAC;gBAAE,WAAU;0BAAiB;;;;;;;;;;;;AAKpC;uCAEe"}},
    {"offset": {"line": 374, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/card.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAEA;AAEA;AAJA;;;;AAMA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 460, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/badge.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AAGA;AAEA;AALA;;;;AAOA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,8OAAC;QAAI,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE"}},
    {"offset": {"line": 503, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/ui/input.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAJA;;;;AAMA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,kHAAE,EACX,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 532, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/dashboard/FreeAuditsCard.tsx"],"sourcesContent":["\"use client\";\n\n\nimport React, { useState } from 'react';\nimport Link from 'next/link';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Button } from '@/components/ui/button';\nimport { useToast } from '@/hooks/use-toast';\nimport { supabase } from '@/lib/integrations/supabase/client';\nimport { Search, PartyPopper, CheckCircle } from 'lucide-react';\nimport { User } from '@supabase/supabase-js';\n\ninterface FreeAuditsCardProps {\n  user: User;\n  userAudits: any[];\n  onAuditAdded: () => void;\n  justFetchedAudit: string | null;\n  setJustFetchedAudit: (value: string | null) => void;\n}\n\nconst FreeAuditsCard = ({ \n  user, \n  userAudits, \n  onAuditAdded, \n  justFetchedAudit, \n  setJustFetchedAudit \n}: FreeAuditsCardProps) => {\n  const [auditCode, setAuditCode] = useState('');\n  const [fetchingAudit, setFetchingAudit] = useState(false);\n  const { toast } = useToast();\n\n  const handleFetchAudit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!auditCode.trim() || !user) return;\n\n    setFetchingAudit(true);\n    try {\n      console.log('Searching for audit code:', auditCode.trim().toUpperCase());\n      \n      // Find audit report by audit_code\n      const { data: auditReport, error: auditError } = await supabase\n        .from('audit_reports')\n        .select('*')\n        .eq('audit_code', auditCode.trim().toUpperCase())\n        .maybeSingle();\n\n      console.log('Audit search result:', { auditReport, auditError });\n\n      if (auditError) {\n        console.error('Error searching for audit:', auditError);\n        toast({\n          title: \"Error searching for audit\",\n          description: auditError.message,\n          variant: \"destructive\",\n        });\n        return;\n      }\n\n      if (!auditReport) {\n        toast({\n          title: \"Audit not found\",\n          description: \"Please check your audit code and try again.\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n\n      // Check if user already has this audit\n      const { data: existingCode } = await supabase\n        .from('user_audit_codes')\n        .select('*')\n        .eq('user_id', user.id)\n        .eq('audit_code', auditCode.trim().toUpperCase())\n        .maybeSingle();\n\n      if (existingCode) {\n        toast({\n          title: \"Audit already added\",\n          description: \"This audit is already in your dashboard.\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n\n      // Add audit to user's collection\n      const { error: insertError } = await supabase\n        .from('user_audit_codes')\n        .insert({\n          user_id: user.id,\n          audit_code: auditCode.trim().toUpperCase(),\n          audit_report_id: auditReport.id,\n          used_at: new Date().toISOString(),\n        });\n\n      if (insertError) throw insertError;\n\n      // Set celebration state\n      setJustFetchedAudit(auditCode.trim().toUpperCase());\n      \n      toast({\n        title: \"ðŸŽ‰ Audit added successfully!\",\n        description: \"Your free audit has been added to your dashboard.\",\n      });\n\n      setAuditCode('');\n      onAuditAdded();\n\n      // Clear celebration state after animation\n      setTimeout(() => {\n        setJustFetchedAudit(null);\n      }, 3000);\n\n    } catch (error: any) {\n      console.error('Error in handleFetchAudit:', error);\n      toast({\n        title: \"Error adding audit\",\n        description: error.message,\n        variant: \"destructive\",\n      });\n    } finally {\n      setFetchingAudit(false);\n    }\n  };\n\n  const isCardInCelebrationMode = justFetchedAudit !== null;\n\n  return (\n    <Card className={`shadow-lg border-0 hover:shadow-xl transition-all duration-300 hover:scale-[1.02] ${\n      isCardInCelebrationMode \n        ? 'bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 animate-pulse' \n        : 'bg-white'\n    }`}>\n      <CardHeader className=\"pb-4\">\n        <div className=\"flex items-center space-x-3\">\n          <div className={`p-2 rounded-lg ${\n            isCardInCelebrationMode ? 'bg-green-200' : 'bg-green-100'\n          }`}>\n            {isCardInCelebrationMode ? (\n              <PartyPopper className=\"w-5 h-5 text-green-700 animate-bounce\" />\n            ) : (\n              <Search className=\"w-5 h-5 text-green-600\" />\n            )}\n          </div>\n          <div>\n            <CardTitle className={`text-lg ${\n              isCardInCelebrationMode ? 'text-green-800' : ''\n            }`}>Mini Audits</CardTitle>\n            <CardDescription className={\n              isCardInCelebrationMode ? 'text-green-600' : ''\n            }>\n              {isCardInCelebrationMode ? 'ðŸŽ‰ Audit Successfully Added!' : 'Access your audit reports'}\n            </CardDescription>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        {!isCardInCelebrationMode && (\n          <form onSubmit={handleFetchAudit} className=\"space-y-3\">\n            <Input\n              placeholder=\"Enter audit code\"\n              value={auditCode}\n              onChange={(e) => setAuditCode(e.target.value)}\n              className=\"text-sm\"\n            />\n            <Button\n              type=\"submit\"\n              disabled={fetchingAudit || !auditCode.trim()}\n              className=\"w-full bg-green-600 hover:bg-green-700 text-sm\"\n            >\n              {fetchingAudit ? 'Adding...' : 'Fetch Audit'}\n            </Button>\n          </form>\n        )}\n        \n        {isCardInCelebrationMode && (\n          <div className=\"text-center py-4\">\n            <CheckCircle className=\"w-12 h-12 text-green-600 mx-auto mb-2 animate-bounce\" />\n            <p className=\"text-green-800 font-semibold\">Audit Added Successfully!</p>\n            <p className=\"text-green-600 text-sm\">Check your audits below</p>\n          </div>\n        )}\n\n        <div className=\"pt-2 border-t\">\n          <p className=\"text-xs text-slate-500 mb-2\">Your Audits ({userAudits.length})</p>\n          {userAudits.length > 0 ? (\n            <div className=\"space-y-2 max-h-32 overflow-y-auto\">\n              {userAudits.slice(0, 3).map((audit) => (\n                <div key={audit.id} className=\"flex items-center justify-between p-2 bg-slate-50 rounded text-xs\">\n                  <span className=\"truncate\">{audit.audit_reports?.client_name}</span>\n                  <Link href={`/audit/${audit.audit_reports?.share_url_slug}`}>\n                    <Button size=\"sm\" variant=\"outline\" className=\"h-6 px-2 text-xs\">\n                      View Audit\n                    </Button>\n                  </Link>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <p className=\"text-xs text-slate-400\">No audits yet</p>\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default FreeAuditsCard;\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAVA;;;;;;;;;;AAqBA,MAAM,iBAAiB,CAAC,EACtB,IAAI,EACJ,UAAU,EACV,YAAY,EACZ,gBAAgB,EAChB,mBAAmB,EACC;IACpB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,iIAAQ;IAE1B,MAAM,mBAAmB,OAAO;QAC9B,EAAE,cAAc;QAChB,IAAI,CAAC,UAAU,IAAI,MAAM,CAAC,MAAM;QAEhC,iBAAiB;QACjB,IAAI;YACF,QAAQ,GAAG,CAAC,6BAA6B,UAAU,IAAI,GAAG,WAAW;YAErE,kCAAkC;YAClC,MAAM,EAAE,MAAM,WAAW,EAAE,OAAO,UAAU,EAAE,GAAG,MAAM,qJAAQ,CAC5D,IAAI,CAAC,iBACL,MAAM,CAAC,KACP,EAAE,CAAC,cAAc,UAAU,IAAI,GAAG,WAAW,IAC7C,WAAW;YAEd,QAAQ,GAAG,CAAC,wBAAwB;gBAAE;gBAAa;YAAW;YAE9D,IAAI,YAAY;gBACd,QAAQ,KAAK,CAAC,8BAA8B;gBAC5C,MAAM;oBACJ,OAAO;oBACP,aAAa,WAAW,OAAO;oBAC/B,SAAS;gBACX;gBACA;YACF;YAEA,IAAI,CAAC,aAAa;gBAChB,MAAM;oBACJ,OAAO;oBACP,aAAa;oBACb,SAAS;gBACX;gBACA;YACF;YAEA,uCAAuC;YACvC,MAAM,EAAE,MAAM,YAAY,EAAE,GAAG,MAAM,qJAAQ,CAC1C,IAAI,CAAC,oBACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,EAAE,CAAC,cAAc,UAAU,IAAI,GAAG,WAAW,IAC7C,WAAW;YAEd,IAAI,cAAc;gBAChB,MAAM;oBACJ,OAAO;oBACP,aAAa;oBACb,SAAS;gBACX;gBACA;YACF;YAEA,iCAAiC;YACjC,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,qJAAQ,CAC1C,IAAI,CAAC,oBACL,MAAM,CAAC;gBACN,SAAS,KAAK,EAAE;gBAChB,YAAY,UAAU,IAAI,GAAG,WAAW;gBACxC,iBAAiB,YAAY,EAAE;gBAC/B,SAAS,IAAI,OAAO,WAAW;YACjC;YAEF,IAAI,aAAa,MAAM;YAEvB,wBAAwB;YACxB,oBAAoB,UAAU,IAAI,GAAG,WAAW;YAEhD,MAAM;gBACJ,OAAO;gBACP,aAAa;YACf;YAEA,aAAa;YACb;YAEA,0CAA0C;YAC1C,WAAW;gBACT,oBAAoB;YACtB,GAAG;QAEL,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,MAAM;gBACJ,OAAO;gBACP,aAAa,MAAM,OAAO;gBAC1B,SAAS;YACX;QACF,SAAU;YACR,iBAAiB;QACnB;IACF;IAEA,MAAM,0BAA0B,qBAAqB;IAErD,qBACE,8OAAC,iIAAI;QAAC,WAAW,CAAC,kFAAkF,EAClG,0BACI,0FACA,YACJ;;0BACA,8OAAC,uIAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAW,CAAC,eAAe,EAC9B,0BAA0B,iBAAiB,gBAC3C;sCACC,wCACC,8OAAC,mOAAW;gCAAC,WAAU;;;;;yFAEvB,8OAAC,gNAAM;gCAAC,WAAU;;;;;;;;;;;sCAGtB,8OAAC;;8CACC,8OAAC,sIAAS;oCAAC,WAAW,CAAC,QAAQ,EAC7B,0BAA0B,mBAAmB,IAC7C;8CAAE;;;;;;8CACJ,8OAAC,4IAAe;oCAAC,WACf,0BAA0B,mBAAmB;8CAE5C,0BAA0B,iCAAiC;;;;;;;;;;;;;;;;;;;;;;;0BAKpE,8OAAC,wIAAW;gBAAC,WAAU;;oBACpB,CAAC,yCACA,8OAAC;wBAAK,UAAU;wBAAkB,WAAU;;0CAC1C,8OAAC,mIAAK;gCACJ,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;gCAC5C,WAAU;;;;;;0CAEZ,8OAAC,qIAAM;gCACL,MAAK;gCACL,UAAU,iBAAiB,CAAC,UAAU,IAAI;gCAC1C,WAAU;0CAET,gBAAgB,cAAc;;;;;;;;;;;;oBAKpC,yCACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0OAAW;gCAAC,WAAU;;;;;;0CACvB,8OAAC;gCAAE,WAAU;0CAA+B;;;;;;0CAC5C,8OAAC;gCAAE,WAAU;0CAAyB;;;;;;;;;;;;kCAI1C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;;oCAA8B;oCAAc,WAAW,MAAM;oCAAC;;;;;;;4BAC1E,WAAW,MAAM,GAAG,kBACnB,8OAAC;gCAAI,WAAU;0CACZ,WAAW,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,sBAC3B,8OAAC;wCAAmB,WAAU;;0DAC5B,8OAAC;gDAAK,WAAU;0DAAY,MAAM,aAAa,EAAE;;;;;;0DACjD,8OAAC,uKAAI;gDAAC,MAAM,CAAC,OAAO,EAAE,MAAM,aAAa,EAAE,gBAAgB;0DACzD,cAAA,8OAAC,qIAAM;oDAAC,MAAK;oDAAK,SAAQ;oDAAU,WAAU;8DAAmB;;;;;;;;;;;;uCAH3D,MAAM,EAAE;;;;;;;;;yFAWtB,8OAAC;gCAAE,WAAU;0CAAyB;;;;;;;;;;;;;;;;;;;;;;;;AAMlD;uCAEe"}},
    {"offset": {"line": 847, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/dashboard/PaidAuditCard.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { \n  FileText, \n  CheckCircle, \n  Download, \n  Star, \n  Sparkles,\n  Award \n} from 'lucide-react';\nimport { supabase } from '@/lib/integrations/supabase/client';\nimport { User } from '@supabase/supabase-js';\n\ninterface PaidAuditCardProps {\n  user: User;\n}\n\ninterface PaidAudit {\n  id: string;\n  client_name: string;\n  share_url_slug: string;\n  audit_data: any; // Using any to handle JSON type from Supabase\n  created_at: string;\n}\n\nconst PaidAuditCard = ({ user }: PaidAuditCardProps) => {\n  const [paidAudits, setPaidAudits] = useState<PaidAudit[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchPaidAudits();\n  }, [user.id]);\n\n  const fetchPaidAudits = async () => {\n    try {\n      // Fetch all paid audits for this user (including archived ones - users should always see their paid audits)\n      const { data, error } = await supabase\n        .from('audit_reports')\n        .select('*')\n        .contains('audit_data', { uploaded_for_user: user.id })\n        .order('created_at', { ascending: false });\n\n      if (error) throw error;\n      \n      // Filter and type check the results\n      const paidAuditsData = (data || []).filter(audit => {\n        if (!audit.audit_data || typeof audit.audit_data !== 'object') return false;\n        const auditData = audit.audit_data as any;\n        return auditData.type === 'uploaded_pdf' && auditData.uploaded_for_user === user.id;\n      });\n      \n      setPaidAudits(paidAuditsData);\n    } catch (error) {\n      console.error('Error fetching paid audits:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDownload = async (filePath: string, fileName: string) => {\n    try {\n      const { data, error } = await supabase.storage\n        .from('blog-media')\n        .download(filePath);\n\n      if (error) throw error;\n\n      const url = URL.createObjectURL(data);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = fileName;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n    } catch (error) {\n      console.error('Error downloading file:', error);\n    }\n  };\n\n  if (loading) {\n    return (\n      <Card className=\"bg-white shadow-lg border-0 hover:shadow-xl transition-all duration-300\">\n        <CardHeader className=\"pb-4\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"p-2 rounded-lg bg-blue-100\">\n              <FileText className=\"w-5 h-5 text-blue-600\" />\n            </div>\n            <div>\n              <CardTitle className=\"text-lg\">Full Audits</CardTitle>\n              <CardDescription>Premium audit services</CardDescription>\n            </div>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <div className=\"text-center py-6\">\n            <div className=\"animate-pulse\">\n              <div className=\"h-4 bg-gray-200 rounded w-3/4 mx-auto mb-2\"></div>\n              <div className=\"h-3 bg-gray-200 rounded w-1/2 mx-auto\"></div>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  if (paidAudits.length === 0) {\n    return (\n      <Card className=\"bg-white shadow-lg border-0 hover:shadow-xl transition-all duration-300 hover:scale-[1.02]\">\n        <CardHeader className=\"pb-4\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"p-2 rounded-lg bg-blue-100\">\n              <FileText className=\"w-5 h-5 text-blue-600\" />\n            </div>\n            <div>\n              <CardTitle className=\"text-lg\">Full Audits</CardTitle>\n              <CardDescription>Premium audit services</CardDescription>\n            </div>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <div className=\"text-center py-6\">\n            <FileText className=\"w-8 h-8 text-blue-600 mx-auto mb-2\" />\n            <p className=\"text-sm text-slate-600 mb-4\">Professional audit services with detailed insights</p>\n            <Badge variant=\"secondary\" className=\"text-xs\">\n              Advanced Analytics\n            </Badge>\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <Card className=\"bg-gradient-to-br from-blue-50 to-indigo-50 shadow-lg border-0 hover:shadow-xl transition-all duration-300 hover:scale-[1.02] border-2 border-blue-200\">\n      <CardHeader className=\"pb-3\">\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"p-2 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 shadow-lg\">\n            <Award className=\"w-5 h-5 text-white\" />\n          </div>\n          <div>\n            <CardTitle className=\"text-lg flex items-center space-x-2\">\n              <span className=\"bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent\">\n                Full Audits\n              </span>\n              <Sparkles className=\"w-4 h-4 text-yellow-500\" />\n            </CardTitle>\n            <CardDescription className=\"text-blue-700\">\n              Premium audit services complete\n            </CardDescription>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-3\">\n        {/* Compact Success Message */}\n        <div className=\"bg-gradient-to-r from-green-100 to-emerald-100 p-3 rounded-lg border-l-4 border-green-500\">\n          <div className=\"flex items-center space-x-2\">\n            <CheckCircle className=\"w-4 h-4 text-green-600 flex-shrink-0\" />\n            <span className=\"font-semibold text-green-800 text-sm\">\n              Your Full Audit is Complete!\n            </span>\n          </div>\n        </div>\n\n        {/* Compact Audit List */}\n        <div className=\"space-y-2\">\n          {paidAudits.slice(0, 2).map((audit) => (\n            <div \n              key={audit.id} \n              className=\"bg-white p-3 rounded-lg shadow-sm border border-blue-100\"\n            >\n              <div className=\"flex items-start justify-between gap-3\">\n                <div className=\"flex items-center space-x-2 flex-1 min-w-0\">\n                  <Star className=\"w-3 h-3 text-blue-600 flex-shrink-0 mt-0.5\" />\n                  <div className=\"min-w-0 flex-1\">\n                    <h4 className=\"font-medium text-sm text-gray-900 truncate mb-1\">\n                      {audit.client_name}\n                    </h4>\n                    <p className=\"text-xs text-gray-500\">\n                      {new Date((audit.audit_data as any)?.uploaded_at || audit.created_at).toLocaleDateString()}\n                    </p>\n                  </div>\n                </div>\n                <div className=\"flex-shrink-0\">\n                  <Button\n                    size=\"sm\"\n                    onClick={() => handleDownload((audit.audit_data as any)?.file_path, `${audit.client_name}-audit-report.pdf`)}\n                    className=\"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white text-xs px-2 py-1 h-6 min-w-[70px]\"\n                  >\n                    <Download className=\"w-3 h-3 mr-1\" />\n                    Download\n                  </Button>\n                </div>\n              </div>\n            </div>\n          ))}\n          \n          {/* Show count if more than 2 audits */}\n          {paidAudits.length > 2 && (\n            <div className=\"text-center py-2\">\n              <span className=\"text-xs text-blue-600 font-medium\">\n                +{paidAudits.length - 2} more audit{paidAudits.length - 2 > 1 ? 's' : ''}\n              </span>\n            </div>\n          )}\n        </div>\n\n        {/* Compact Premium Badge */}\n        <div className=\"bg-gradient-to-r from-yellow-50 to-orange-50 p-2 rounded-lg border border-yellow-200\">\n          <div className=\"flex items-center justify-center space-x-2\">\n            <Award className=\"w-3 h-3 text-yellow-600\" />\n            <span className=\"text-xs font-medium text-yellow-800\">\n              Premium Service Complete\n            </span>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default PaidAuditCard;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1388, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/dashboard/DashboardModules.tsx"],"sourcesContent":["\"use client\";\n\n\nimport React from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { \n  Package, \n  BookOpen, \n  FileText\n} from 'lucide-react';\nimport FreeAuditsCard from './FreeAuditsCard';\nimport PaidAuditCard from './PaidAuditCard';\nimport { User } from '@supabase/supabase-js';\n\ninterface DashboardModulesProps {\n  user: User;\n  userAudits: any[];\n  onAuditAdded: () => void;\n  justFetchedAudit: string | null;\n  setJustFetchedAudit: (value: string | null) => void;\n}\n\nconst DashboardModules = ({ \n  user, \n  userAudits, \n  onAuditAdded, \n  justFetchedAudit, \n  setJustFetchedAudit \n}: DashboardModulesProps) => {\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n      {/* Free Audits */}\n      <FreeAuditsCard\n        user={user}\n        userAudits={userAudits}\n        onAuditAdded={onAuditAdded}\n        justFetchedAudit={justFetchedAudit}\n        setJustFetchedAudit={setJustFetchedAudit}\n      />\n\n      {/* Paid Audits */}\n      <PaidAuditCard user={user} />\n\n      {/* Packages */}\n      <Card className=\"bg-white shadow-lg border-0 hover:shadow-xl transition-all duration-300 hover:scale-[1.02]\">\n        <CardHeader className=\"pb-4\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"p-2 rounded-lg bg-purple-100\">\n              <Package className=\"w-5 h-5 text-purple-600\" />\n            </div>\n            <div>\n              <CardTitle className=\"text-lg\">Packages</CardTitle>\n              <CardDescription>Service bundles</CardDescription>\n            </div>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <div className=\"text-center py-6\">\n            <Package className=\"w-8 h-8 text-purple-600 mx-auto mb-2\" />\n            <p className=\"text-sm text-slate-600 mb-4\">Comprehensive service bundles for your business</p>\n            <Badge variant=\"secondary\" className=\"text-xs\">\n              Custom Solutions\n            </Badge>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Resources */}\n      <Card className=\"bg-white shadow-lg border-0 hover:shadow-xl transition-all duration-300 hover:scale-[1.02]\">\n        <CardHeader className=\"pb-4\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"p-2 rounded-lg bg-orange-100\">\n              <BookOpen className=\"w-5 h-5 text-orange-600\" />\n            </div>\n            <div>\n              <CardTitle className=\"text-lg\">Resources</CardTitle>\n              <CardDescription>Learning materials</CardDescription>\n            </div>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <div className=\"text-center py-6\">\n            <BookOpen className=\"w-8 h-8 text-orange-600 mx-auto mb-2\" />\n            <p className=\"text-sm text-slate-600 mb-4\">Educational content and best practices</p>\n            <Badge variant=\"secondary\" className=\"text-xs\">\n              Guides & Tips\n            </Badge>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default DashboardModules;\n"],"names":[],"mappings":";;;;;AAIA;AACA;AACA;AAAA;AAKA;AACA;AAZA;;;;;;;AAuBA,MAAM,mBAAmB,CAAC,EACxB,IAAI,EACJ,UAAU,EACV,YAAY,EACZ,gBAAgB,EAChB,mBAAmB,EACG;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC,qJAAc;gBACb,MAAM;gBACN,YAAY;gBACZ,cAAc;gBACd,kBAAkB;gBAClB,qBAAqB;;;;;;0BAIvB,8OAAC,oJAAa;gBAAC,MAAM;;;;;;0BAGrB,8OAAC,iIAAI;gBAAC,WAAU;;kCACd,8OAAC,uIAAU;wBAAC,WAAU;kCACpB,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,mNAAO;wCAAC,WAAU;;;;;;;;;;;8CAErB,8OAAC;;sDACC,8OAAC,sIAAS;4CAAC,WAAU;sDAAU;;;;;;sDAC/B,8OAAC,4IAAe;sDAAC;;;;;;;;;;;;;;;;;;;;;;;kCAIvB,8OAAC,wIAAW;kCACV,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,mNAAO;oCAAC,WAAU;;;;;;8CACnB,8OAAC;oCAAE,WAAU;8CAA8B;;;;;;8CAC3C,8OAAC,mIAAK;oCAAC,SAAQ;oCAAY,WAAU;8CAAU;;;;;;;;;;;;;;;;;;;;;;;0BAQrD,8OAAC,iIAAI;gBAAC,WAAU;;kCACd,8OAAC,uIAAU;wBAAC,WAAU;kCACpB,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,0NAAQ;wCAAC,WAAU;;;;;;;;;;;8CAEtB,8OAAC;;sDACC,8OAAC,sIAAS;4CAAC,WAAU;sDAAU;;;;;;sDAC/B,8OAAC,4IAAe;sDAAC;;;;;;;;;;;;;;;;;;;;;;;kCAIvB,8OAAC,wIAAW;kCACV,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,0NAAQ;oCAAC,WAAU;;;;;;8CACpB,8OAAC;oCAAE,WAAU;8CAA8B;;;;;;8CAC3C,8OAAC,mIAAK;oCAAC,SAAQ;oCAAY,WAAU;8CAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ3D;uCAEe"}},
    {"offset": {"line": 1642, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/dashboard/RecentAuditsSection.tsx"],"sourcesContent":["\"use client\";\n\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { CheckCircle, ArrowRight } from 'lucide-react';\n\ninterface RecentAuditsSectionProps {\n  userAudits: any[];\n}\n\nconst RecentAuditsSection = ({ userAudits }: RecentAuditsSectionProps) => {\n  if (userAudits.length === 0) {\n    return null;\n  }\n\n  return (\n    <Card className=\"bg-white shadow-lg border-0\">\n      <CardHeader>\n        <CardTitle className=\"flex items-center space-x-2\">\n          <CheckCircle className=\"w-5 h-5 text-green-500\" />\n          <span>Recent Audits</span>\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <div className=\"space-y-3\">\n          {userAudits.map((audit) => (\n            <div key={audit.id} className=\"flex items-center justify-between p-4 bg-slate-50 rounded-lg hover:bg-slate-100 transition-colors\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n                <div>\n                  <p className=\"font-medium text-slate-900\">{audit.audit_reports?.client_name}</p>\n                  <p className=\"text-sm text-slate-500\">\n                    Added {new Date(audit.created_at).toLocaleDateString()}\n                  </p>\n                </div>\n              </div>\n              <Link href={`/audit/${audit.audit_reports?.share_url_slug}`}>\n                <Button variant=\"outline\" size=\"sm\" className=\"flex items-center space-x-2\">\n                  <span>View Report</span>\n                  <ArrowRight className=\"w-4 h-4\" />\n                </Button>\n              </Link>\n            </div>\n          ))}\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default RecentAuditsSection;\n"],"names":[],"mappings":";;;;;AAIA;AACA;AACA;AACA;AAAA;AAPA;;;;;;AAaA,MAAM,sBAAsB,CAAC,EAAE,UAAU,EAA4B;IACnE,IAAI,WAAW,MAAM,KAAK,GAAG;QAC3B,OAAO;IACT;IAEA,qBACE,8OAAC,iIAAI;QAAC,WAAU;;0BACd,8OAAC,uIAAU;0BACT,cAAA,8OAAC,sIAAS;oBAAC,WAAU;;sCACnB,8OAAC,0OAAW;4BAAC,WAAU;;;;;;sCACvB,8OAAC;sCAAK;;;;;;;;;;;;;;;;;0BAGV,8OAAC,wIAAW;0BACV,cAAA,8OAAC;oBAAI,WAAU;8BACZ,WAAW,GAAG,CAAC,CAAC,sBACf,8OAAC;4BAAmB,WAAU;;8CAC5B,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;;;;;;sDACf,8OAAC;;8DACC,8OAAC;oDAAE,WAAU;8DAA8B,MAAM,aAAa,EAAE;;;;;;8DAChE,8OAAC;oDAAE,WAAU;;wDAAyB;wDAC7B,IAAI,KAAK,MAAM,UAAU,EAAE,kBAAkB;;;;;;;;;;;;;;;;;;;8CAI1D,8OAAC,uKAAI;oCAAC,MAAM,CAAC,OAAO,EAAE,MAAM,aAAa,EAAE,gBAAgB;8CACzD,cAAA,8OAAC,qIAAM;wCAAC,SAAQ;wCAAU,MAAK;wCAAK,WAAU;;0DAC5C,8OAAC;0DAAK;;;;;;0DACN,8OAAC,gOAAU;gDAAC,WAAU;;;;;;;;;;;;;;;;;;2BAblB,MAAM,EAAE;;;;;;;;;;;;;;;;;;;;;AAsB9B;uCAEe"}},
    {"offset": {"line": 1803, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\n\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '@/hooks/useAuth';\nimport { useRouter } from 'next/navigation';\nimport { supabase } from '@/lib/integrations/supabase/client';\nimport DashboardHeader from '@/components/dashboard/DashboardHeader';\nimport WelcomeSection from '@/components/dashboard/WelcomeSection';\nimport DashboardModules from '@/components/dashboard/DashboardModules';\nimport RecentAuditsSection from '@/components/dashboard/RecentAuditsSection';\n\nconst Dashboard = () => {\n  const { user, signOut, loading } = useAuth();\n  const router = useRouter();\n  const [userAudits, setUserAudits] = useState<any[]>([]);\n  const [justFetchedAudit, setJustFetchedAudit] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!loading && !user) {\n      router.push('/auth');\n    }\n  }, [user, loading, router]);\n\n  useEffect(() => {\n    if (user) {\n      fetchUserAudits();\n    }\n  }, [user]);\n\n  const fetchUserAudits = async () => {\n    if (!user) return;\n    \n    try {\n      const { data, error } = await supabase\n        .from('user_audit_codes')\n        .select(`\n          *,\n          audit_reports (\n            id,\n            client_name,\n            created_at,\n            share_url_slug\n          )\n        `)\n        .eq('user_id', user.id)\n        .order('created_at', { ascending: false });\n\n      if (error) throw error;\n      setUserAudits(data || []);\n    } catch (error: any) {\n      console.error('Error fetching user audits:', error);\n    }\n  };\n\n  const handleSignOut = async () => {\n    await signOut();\n    router.push('/');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500\"></div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50\">\n      <DashboardHeader user={user} onSignOut={handleSignOut} />\n\n      <main className=\"max-w-6xl mx-auto px-4 py-8\">\n        <WelcomeSection user={user} />\n\n        <DashboardModules\n          user={user}\n          userAudits={userAudits}\n          onAuditAdded={fetchUserAudits}\n          justFetchedAudit={justFetchedAudit}\n          setJustFetchedAudit={setJustFetchedAudit}\n        />\n\n        <RecentAuditsSection userAudits={userAudits} />\n      </main>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;;;;;;;;;;AAYA,MAAM,YAAY;IAChB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAA,4HAAO;IAC1C,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IACtD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAgB;IAExE,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,WAAW,CAAC,MAAM;YACrB,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAM;QAAS;KAAO;IAE1B,IAAA,kNAAS,EAAC;QACR,IAAI,MAAM;YACR;QACF;IACF,GAAG;QAAC;KAAK;IAET,MAAM,kBAAkB;QACtB,IAAI,CAAC,MAAM;QAEX,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,qJAAQ,CACnC,IAAI,CAAC,oBACL,MAAM,CAAC,CAAC;;;;;;;;QAQT,CAAC,EACA,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,KAAK,CAAC,cAAc;gBAAE,WAAW;YAAM;YAE1C,IAAI,OAAO,MAAM;YACjB,cAAc,QAAQ,EAAE;QAC1B,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,+BAA+B;QAC/C;IACF;IAEA,MAAM,gBAAgB;QACpB,MAAM;QACN,OAAO,IAAI,CAAC;IACd;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,IAAI,CAAC,MAAM;QACT,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,sJAAe;gBAAC,MAAM;gBAAM,WAAW;;;;;;0BAExC,8OAAC;gBAAK,WAAU;;kCACd,8OAAC,qJAAc;wBAAC,MAAM;;;;;;kCAEtB,8OAAC,uJAAgB;wBACf,MAAM;wBACN,YAAY;wBACZ,cAAc;wBACd,kBAAkB;wBAClB,qBAAqB;;;;;;kCAGvB,8OAAC,0JAAmB;wBAAC,YAAY;;;;;;;;;;;;;;;;;;AAIzC;uCAEe"}}]
}